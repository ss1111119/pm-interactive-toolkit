<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRINCE2 å‚™è€ƒæ‡¶äººåŒ…ï¼šæ–°æ‰‹ä¸€é é€š</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f5f5f4; /* stone-100 */
            color: #1c1917; /* stone-900 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (max-width: 640px) {
            .chart-container {
                height: 300px;
            }
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .timeline-line {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 100%;
            background-color: #e7e5e4; /* stone-200 */
            z-index: 0;
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f5f5f4;
        }
        ::-webkit-scrollbar-thumb {
            background: #d6d3d1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a29e;
        }
    </style>
    <!-- Chosen Palette: Warm Academia (Stone neutrals with Terracotta and Slate Blue accents) -->
    <!-- Application Structure Plan: 
         1. Hero Section: Quick intro and analogy (Recipes).
         2. Identity Module: "Who is PRINCE2?" using interactive cards for definition and origin.
         3. Comparison Dashboard: The Core of the app. A Radar Chart visualizing the "Android vs iOS" metaphor alongside a dynamic table. This helps users visualize the abstract differences.
         4. History Timeline: Vertical interactive timeline for key dates (1989, 1996).
         5. Quiz Section: Interactive validation of knowledge.
         6. Memory Aid: The final mnemonic takeaway.
         This structure follows the logical flow of: What -> How it differs -> When -> Test -> Memorize.
    -->
    <!-- Visualization & Content Choices:
         1. Radar Chart (Chart.js): To visualize the qualitative differences between PMBOK and PRINCE2 (Flexibility vs Structure). Allows users to "see" the philosophy difference described in the text.
         2. Interactive Cards: For the "Identity" section to break down the acronym and origin without wall-of-text.
         3. Dynamic Quiz: To reinforce learning immediately.
         4. Timeline: HTML/CSS flex layout to map the historical context clearly.
         5. Justification: No SVGs used. Chart.js chosen for the radar chart as it handles multiple datasets (PMBOK vs PRINCE2) effectively on Canvas.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-stone-100 min-h-screen flex flex-col">

    <!-- Navigation / Progress -->
    <nav class="bg-white shadow-sm sticky top-0 z-50 border-b border-stone-200">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-stone-800 tracking-tight">PRINCE2 <span class="text-orange-600 font-light">å‚™è€ƒæ‡¶äººåŒ…</span></span>
                </div>
                <div class="hidden md:flex space-x-8 text-sm font-medium text-stone-500">
                    <a href="#intro" class="hover:text-orange-600 transition">æ¦‚å¿µ</a>
                    <a href="#comparison" class="hover:text-orange-600 transition">æ¯”è¼ƒ</a>
                    <a href="#history" class="hover:text-orange-600 transition">æ­·å²</a>
                    <a href="#quiz" class="hover:text-orange-600 transition">æ¸¬é©—</a>
                </div>
                <div class="flex items-center bg-stone-100 rounded-full px-3 py-1">
                    <span class="text-xs font-semibold text-stone-500 mr-2">å­¸ç¿’é€²åº¦</span>
                    <div class="w-20 h-2 bg-stone-300 rounded-full overflow-hidden">
                        <div id="progressBar" class="h-full bg-orange-500 transition-all duration-500" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-16">

        <!-- Section 1: Introduction & Identity -->
        <section id="intro" class="scroll-mt-20">
            <div class="text-center mb-10">
                <h1 class="text-4xl font-extrabold text-stone-900 mb-4">PRINCE2 å°ˆæ¡ˆç®¡ç†ï¼š<span class="text-orange-600">æ–°æ‰‹ä¸€é é€š</span></h1>
                <p class="text-lg text-stone-600 max-w-2xl mx-auto">
                    çµ¦åˆå­¸è€…çš„æ ¸å¿ƒæ¦‚å¿µï¼šå°ˆæ¡ˆç®¡ç†å°±æ˜¯ä¸€å¥—ã€Œå¦‚ä½•æŠŠäº‹æƒ…åšå¥½ã€çš„é£Ÿè­œã€‚æˆ‘å€‘é€™è£¡æœ‰å…©å¤§æµæ´¾ï¼Œè®“æˆ‘å€‘ä¾†èªè­˜ä¾†è‡ªè‹±åœ‹çš„é€™ä¸€ä½ã€‚
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Definition Card -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200 card-hover cursor-pointer" onclick="updateProgress(25)">
                    <div class="flex items-center mb-4">
                        <span class="bg-orange-100 text-orange-700 text-xl font-bold px-3 py-1 rounded mr-3">å®šç¾©</span>
                        <h2 class="text-xl font-bold text-stone-800">å…¨åè§£å¯†</h2>
                    </div>
                    <p class="text-stone-600 mb-4 leading-relaxed">
                        <strong class="text-stone-900">PRINCE2</strong> æ˜¯ 
                        <br><span class="text-orange-600 font-bold text-lg">Pr</span>ojects <span class="text-orange-600 font-bold text-lg">in</span> <span class="text-orange-600 font-bold text-lg">C</span>ontrolled <span class="text-orange-600 font-bold text-lg">E</span>nvironments
                    </p>
                    <div class="bg-stone-50 p-3 rounded-lg border-l-4 border-orange-500">
                        <p class="text-sm text-stone-600"><strong>è¨˜æ†¶æ³•ï¼š</strong>çœ‹åˆ° <span class="text-orange-600">Controlled Environments (å—æ§ç’°å¢ƒ)</span> å°±é¸ PRINCE2ã€‚</p>
                    </div>
                </div>

                <!-- Origin Card -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200 card-hover cursor-pointer" onclick="updateProgress(25)">
                    <div class="flex items-center mb-4">
                        <span class="bg-blue-100 text-blue-700 text-xl font-bold px-3 py-1 rounded mr-3">èº«ä¸–</span>
                        <h2 class="text-xl font-bold text-stone-800">èµ·æºèˆ‡åœ°ä½</h2>
                    </div>
                    <ul class="space-y-3 text-stone-600">
                        <li class="flex items-start">
                            <span class="text-orange-500 mr-2">â—</span>
                            <span><strong>å¯Œçˆ¸çˆ¸ï¼š</strong>è‹±åœ‹æ”¿åºœ (CCTA)ã€‚</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-orange-500 mr-2">â—</span>
                            <span><strong>åŸå§‹ç”¨é€”ï¼š</strong>IT å°ˆæ¡ˆ (ç¾åœ¨å·²é©ç”¨æ–¼æ‰€æœ‰ç”¢æ¥­)ã€‚</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-orange-500 mr-2">â—</span>
                            <span><strong>åœ°ä½ï¼š</strong>èˆ‡ PMBOK æŒ‡å—ä¸¦åˆ—çš„å…¨çƒå…©å¤§æ¨™æº–ã€‚</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 2: The Showdown (Comparison) -->
        <section id="comparison" class="scroll-mt-20">
            <div class="bg-white rounded-2xl shadow-lg border border-stone-200 overflow-hidden">
                <div class="bg-stone-800 p-6 text-white">
                    <h2 class="text-2xl font-bold mb-2">æ ¸å¿ƒè€ƒé»ï¼šè¶…ç´šæ¯”ä¸€æ¯”</h2>
                    <p class="text-stone-300">åˆ©ç”¨æ‰‹æ©Ÿç³»çµ±çš„æ¯”å–»ä¾†ç†è§£å…©å¤§æµæ´¾çš„å·®ç•°ã€‚é»æ“Šä¸‹æ–¹æŒ‰éˆ•åˆ‡æ›è¦–è§’ã€‚</p>
                </div>
                
                <div class="p-6">
                    <div class="flex justify-center mb-6 space-x-4">
                        <button onclick="setChartMode('metaphor')" id="btn-metaphor" class="px-4 py-2 bg-orange-600 text-white rounded-lg shadow hover:bg-orange-700 transition">æ‰‹æ©Ÿç³»çµ±æ¯”å–»</button>
                        <button onclick="setChartMode('technical')" id="btn-technical" class="px-4 py-2 bg-stone-200 text-stone-700 rounded-lg shadow hover:bg-stone-300 transition">å°ˆæ¥­è¡“èªå°æ¯”</button>
                    </div>

                    <!-- ä¿®æ”¹ Grid æ¯”ä¾‹ï¼Œå¾ 1:2 (lg:grid-cols-3) æ”¹ç‚º 1:1 (lg:grid-cols-2)ï¼Œçµ¦åœ–è¡¨æ›´å¤šç©ºé–“ -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                        <!-- Chart Column -->
                        <div>
                            <div class="chart-container">
                                <canvas id="comparisonChart"></canvas>
                            </div>
                            <p class="text-center text-xs text-stone-400 mt-2">*æ­¤åœ–è¡¨ç‚ºæ¦‚å¿µç¤ºæ„ï¼Œå±•ç¤ºå…©è€…è¨­è¨ˆå“²å­¸çš„å·®ç•°</p>
                        </div>

                        <!-- Text Detail Column -->
                        <div class="space-y-4">
                            <!-- PMBOK Block -->
                            <div class="p-4 rounded-lg border-l-4 border-blue-500 bg-blue-50">
                                <h3 class="font-bold text-blue-900 text-lg mb-1">PMBOK æŒ‡å— (ç¾åœ‹æ´¾)</h3>
                                <div class="flex items-center mb-2">
                                    <span class="text-2xl mr-2">ğŸ¤–</span>
                                    <span class="font-bold text-blue-700">Android</span>
                                </div>
                                <p class="text-sm text-blue-800">
                                    <strong>ç‰¹æ€§ï¼š</strong>é–‹æ”¾ã€éˆæ´»ã€çŸ¥è­˜çµ„ä»¶å¤šã€‚<br>
                                    <strong>å“²å­¸ï¼š</strong>æä¾›ä¸€å€‹å¤§å·¥å…·ç®±ï¼Œè®“å»šå¸«è‡ªå·±æ±ºå®šæ€éº¼ç”¨ã€‚<br>
                                    <strong>ä¾†æºï¼š</strong>PMI (ç¾åœ‹å°ˆæ¡ˆç®¡ç†å­¸æœƒ)ã€‚
                                </p>
                            </div>

                            <!-- PRINCE2 Block -->
                            <div class="p-4 rounded-lg border-l-4 border-orange-500 bg-orange-50">
                                <h3 class="font-bold text-orange-900 text-lg mb-1">PRINCE2 (è‹±åœ‹æ´¾)</h3>
                                <div class="flex items-center mb-2">
                                    <span class="text-2xl mr-2">ğŸ</span>
                                    <span class="font-bold text-orange-700">iOS</span>
                                </div>
                                <p class="text-sm text-orange-800">
                                    <strong>ç‰¹æ€§ï¼š</strong>çµæ§‹åŒ–ã€å¼·èª¿ã€Œå—æ§ç’°å¢ƒã€ã€å–®ä¸€æ¬Šå¨ã€‚<br>
                                    <strong>å“²å­¸ï¼š</strong>æä¾›æ¨™æº–ä½œæ¥­æµç¨‹ (SOP)ï¼ŒæŒ‰éƒ¨å°±ç­é‹ä½œã€‚<br>
                                    <strong>ä¾†æºï¼š</strong>è‹±åœ‹æ”¿åºœ (CCTA)ã€‚
                                </p>
                            </div>
                            
                            <div class="text-center pt-2">
                                <p class="text-sm font-semibold text-stone-500">å…±åŒé»ï¼šéƒ½æ˜¯ã€Œé€šç”¨æ€§ã€æ–¹æ³•ï¼Œæ®Šé€”åŒæ­¸ã€‚</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: History Timeline -->
        <section id="history" class="scroll-mt-20">
            <h2 class="text-2xl font-bold text-stone-900 mb-6 pl-4 border-l-4 border-stone-800">æ­·å²æ™‚é–“è»¸ (è€ƒé»ï¼š1996)</h2>
            <div class="relative py-8">
                <div class="timeline-line"></div>
                
                <!-- Event 1 -->
                <div class="relative z-10 flex items-center mb-12 group cursor-pointer" onclick="highlightEvent(this)">
                    <div class="w-1/2 pr-8 text-right">
                        <h3 class="text-xl font-bold text-stone-400 group-hover:text-stone-800 transition">æˆç†ŸæœŸé–‹å§‹</h3>
                        <p class="text-sm text-stone-400">å°ˆæ¡ˆç®¡ç†çš„é»ƒé‡‘å¹´ä»£</p>
                    </div>
                    <div class="w-4 h-4 bg-stone-300 rounded-full border-2 border-white shadow group-hover:bg-stone-800 transition mx-auto absolute left-0 right-0"></div>
                    <div class="w-1/2 pl-8">
                        <span class="text-2xl font-black text-stone-300 group-hover:text-stone-800 transition">1985</span>
                    </div>
                </div>

                <!-- Event 2 -->
                <div class="relative z-10 flex items-center mb-12 group cursor-pointer" onclick="highlightEvent(this)">
                    <div class="w-1/2 pr-8 text-right">
                        <span class="text-2xl font-black text-stone-300 group-hover:text-blue-600 transition">1989</span>
                    </div>
                    <div class="w-4 h-4 bg-stone-300 rounded-full border-2 border-white shadow group-hover:bg-blue-600 transition mx-auto absolute left-0 right-0"></div>
                    <div class="w-1/2 pl-8">
                        <h3 class="text-xl font-bold text-stone-400 group-hover:text-blue-800 transition">PRINCE èª•ç”Ÿ</h3>
                        <p class="text-sm text-stone-400">è‹±åœ‹æ”¿åºœ IT å°ˆæ¡ˆæ¨™æº–</p>
                    </div>
                </div>

                <!-- Event 3 (Major) -->
                <div class="relative z-10 flex items-center group cursor-pointer" onclick="highlightEvent(this)">
                    <div class="w-1/2 pr-8 text-right">
                        <h3 class="text-2xl font-bold text-orange-400 group-hover:text-orange-600 transition">PRINCE2 å‡ºç‰ˆ</h3>
                        <span class="inline-block bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded mt-1">æœ€é‡è¦è€ƒé»</span>
                    </div>
                    <div class="w-6 h-6 bg-orange-400 rounded-full border-4 border-white shadow group-hover:scale-125 transition mx-auto absolute left-0 right-0"></div>
                    <div class="w-1/2 pl-8">
                        <span class="text-4xl font-black text-orange-400 group-hover:text-orange-600 transition">1996</span>
                    </div>
                </div>
            </div>
            <p class="text-center text-stone-500 mt-6 text-sm">é»æ“Šæ™‚é–“é»æŸ¥çœ‹é‡é»</p>
        </section>

        <!-- Section 4: Quiz -->
        <section id="quiz" class="scroll-mt-20">
            <div class="bg-white p-8 rounded-2xl shadow-sm border border-stone-200">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-stone-900">æ¨¡æ“¬è©¦é¡Œç·´ç¿’</h2>
                    <span id="score-display" class="text-lg font-bold text-stone-400">å¾—åˆ†: 0/3</span>
                </div>
                
                <div class="space-y-6" id="quiz-container">
                    <!-- Questions will be injected here by JS -->
                </div>
            </div>
        </section>

        <!-- Section 5: Cheat Sheet -->
        <section class="bg-stone-800 text-stone-200 p-8 rounded-2xl text-center mb-10">
            <h2 class="text-xl font-bold text-orange-400 mb-4">è€ƒå‰ 1 åˆ†é˜å£è¨£</h2>
            <p class="text-2xl font-medium leading-loose">
                ã€Œ<span class="text-white border-b-2 border-orange-500">è‹±åœ‹ç‹å­ (PRINCE)</span> ç®¡å¾ˆåš´ (<span class="text-orange-300">å—æ§ç’°å¢ƒ</span>)ï¼Œ<br>
                åŸæœ¬æ˜¯å€‹ <span class="text-orange-300">IT ç”·</span> (ITèµ·æº)ï¼Œ<br>
                <span class="text-white text-3xl font-bold mx-1">1996</span> è½‰å¤§äºº (æˆç†ŸæœŸ)ï¼Œ<br>
                è·Ÿç¾åœ‹ PMBOK è®Šæˆäº†å¥½å…„å¼Ÿã€‚ã€
            </p>
        </section>

    </main>

    <footer class="bg-stone-900 text-stone-500 py-8 text-center text-sm">
        <p>Â© 2024 PRINCE2 å‚™è€ƒæ‡¶äººåŒ… SPA | åŸºæ–¼ç­†è¨˜å…§å®¹ç”Ÿæˆ</p>
    </footer>

    <script>
        // Data Structures
        const quizData = [
            {
                id: 1,
                question: "Q1. é—œæ–¼ PRINCE2 çš„æ•˜è¿°ï¼Œä¸‹åˆ—ä½•è€…éŒ¯èª¤ï¼Ÿ",
                options: [
                    "A. æœ€åˆæ˜¯ç”±è‹±åœ‹æ”¿åºœç‚ºäº† IT å°ˆæ¡ˆæ‰€é–‹ç™¼",
                    "B. å…¶å…¨ååŒ…å«ã€Œå—æ§ç’°å¢ƒã€ï¼ˆControlled Environmentsï¼‰",
                    "C. ç›®å‰åƒ…é©ç”¨æ–¼è‹±åœ‹æ”¿åºœçš„ IT å°ˆæ¡ˆï¼Œä¸é©ç”¨æ–¼å…¶ä»–ç”¢æ¥­",
                    "D. èˆ‡ PMBOK ä¸¦åˆ—ç‚ºå…¨çƒå…©å¤§å°ˆæ¡ˆç®¡ç†æ¨™æº–"
                ],
                correct: 2, // Index of C
                explanation: "è§£æï¼šä¾†æºè³‡æ–™å¼·èª¿ã€Œæ‰“ç ´è¿·æ€ã€ï¼Œç¾åœ¨å·²æ˜¯é€šç”¨æ¨™æº–ï¼Œé IT ç”¢æ¥­ä¹Ÿå»£æ³›ä½¿ç”¨ã€‚"
            },
            {
                id: 2,
                question: "Q2. å°ˆæ¡ˆç®¡ç†ç™¼å±•å²ä¸­ï¼ŒPRINCE2 æ­£å¼å‡ºç‰ˆä¸¦æ¨™èªŒæ–¹æ³•è«–æˆç†Ÿçš„å¹´ä»½ç‚ºä½•ï¼Ÿ",
                options: [
                    "A. 1989",
                    "B. 1996",
                    "C. 2000",
                    "D. 1985"
                ],
                correct: 1, // Index of B
                explanation: "è§£æï¼š1989 æ˜¯ç¬¬ä¸€ä»£ï¼Œ1996 æ˜¯ PRINCE2 æ­£å¼å‡ºç‰ˆçš„é—œéµå¹´ã€‚"
            },
            {
                id: 3,
                question: "Q3. è‹¥å°‡å°ˆæ¡ˆç®¡ç†æ¯”å–»ç‚ºæ‰‹æ©Ÿç³»çµ±ï¼Œä¾†æºè³‡æ–™å°‡ PRINCE2 æ¯”å–»ç‚ºå“ªç¨®ç³»çµ±ï¼Œå¼·èª¿å…¶å—æ§èˆ‡çµæ§‹åŒ–ï¼Ÿ",
                options: [
                    "A. Android",
                    "B. Windows",
                    "C. iOS",
                    "D. Linux"
                ],
                correct: 2, // Index of C
                explanation: "è§£æï¼šPRINCE2 æºè‡ªå–®ä¸€æ¬Šå¨ï¼ˆè‹±åœ‹æ”¿åºœï¼‰ï¼Œå¼·èª¿å—æ§ç’°å¢ƒï¼Œé¡ä¼¼ iOSã€‚"
            }
        ];

        // Chart Configuration
        let comparisonChart;

        function initChart() {
            const ctx = document.getElementById('comparisonChart').getContext('2d');
            
            comparisonChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['éˆæ´»æ€§ (Openness)', 'çµæ§‹åŒ– (Structure)', 'å·¥å…·å¤šæ¨£æ€§ (Toolbox)', 'å–®ä¸€æ¬Šå¨ (Authority)', 'æµç¨‹å°å‘ (Process)'],
                    datasets: [{
                        label: 'PMBOK (Android)',
                        data: [9, 5, 9, 4, 6],
                        fill: true,
                        backgroundColor: 'rgba(59, 130, 246, 0.2)', // Blue
                        borderColor: 'rgb(59, 130, 246)',
                        pointBackgroundColor: 'rgb(59, 130, 246)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(59, 130, 246)'
                    }, {
                        label: 'PRINCE2 (iOS)',
                        data: [4, 9, 4, 9, 9],
                        fill: true,
                        backgroundColor: 'rgba(234, 88, 12, 0.2)', // Orange
                        borderColor: 'rgb(234, 88, 12)',
                        pointBackgroundColor: 'rgb(234, 88, 12)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(234, 88, 12)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    layout: {
                        padding: 20 // ç©ºé–“è®Šå¯¬å¾Œï¼ŒPadding å¯ä»¥èª¿å›é©ä¸­æ•¸å€¼ï¼Œè®“åœ–è¡¨è®Šå¤§
                    },
                    elements: {
                        line: { borderWidth: 3 }
                    },
                    scales: {
                        r: {
                            angleLines: { display: true },
                            suggestedMin: 0,
                            suggestedMax: 10,
                            ticks: { display: false }, // Hide numbers for cleaner look
                            pointLabels: {
                                font: {
                                    size: 12 // ç¨å¾®èª¿æ•´å­—é«”å¤§å°ä»¥é©æ‡‰æ‰‹æ©Ÿç‰ˆ
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });
        }

        function setChartMode(mode) {
            const btnMeta = document.getElementById('btn-metaphor');
            const btnTech = document.getElementById('btn-technical');
            
            if (mode === 'metaphor') {
                comparisonChart.data.labels = ['è‡ªç”±åº¦ (Freedom)', 'ç³»çµ±é™åˆ¶ (Control)', 'Appå¤šæ¨£æ€§ (Variety)', 'å®˜æ–¹å¯©æ ¸ (Strict)', 'ä½¿ç”¨è€…é«”é©— (UX Flow)'];
                comparisonChart.data.datasets[0].label = 'Android (PMBOK)';
                comparisonChart.data.datasets[1].label = 'iOS (PRINCE2)';
                
                btnMeta.classList.remove('bg-stone-200', 'text-stone-700');
                btnMeta.classList.add('bg-orange-600', 'text-white');
                btnTech.classList.add('bg-stone-200', 'text-stone-700');
                btnTech.classList.remove('bg-orange-600', 'text-white');
            } else {
                comparisonChart.data.labels = ['éˆæ´»æ€§ (Flexibility)', 'çµæ§‹åŒ– (Structure)', 'å·¥å…·ç®± (Toolbox)', 'å–®ä¸€æ¨™æº– (Standard)', 'å—æ§ç’°å¢ƒ (Controlled)'];
                comparisonChart.data.datasets[0].label = 'PMBOK æŒ‡å—';
                comparisonChart.data.datasets[1].label = 'PRINCE2';

                btnTech.classList.remove('bg-stone-200', 'text-stone-700');
                btnTech.classList.add('bg-orange-600', 'text-white');
                btnMeta.classList.add('bg-stone-200', 'text-stone-700');
                btnMeta.classList.remove('bg-orange-600', 'text-white');
            }
            comparisonChart.update();
        }

        // Quiz Logic
        let score = 0;
        let answered = new Set();

        function renderQuiz() {
            const container = document.getElementById('quiz-container');
            container.innerHTML = '';

            quizData.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'border-b border-stone-100 pb-6 last:border-0';
                questionDiv.innerHTML = `
                    <p class="font-bold text-lg text-stone-800 mb-4">${q.question}</p>
                    <div class="space-y-2">
                        ${q.options.map((opt, optIndex) => `
                            <button onclick="checkAnswer(${index}, ${optIndex}, this)" 
                                class="w-full text-left px-4 py-3 rounded-lg border border-stone-200 hover:bg-stone-50 transition flex items-center group option-btn-${index}">
                                <div class="w-5 h-5 rounded-full border-2 border-stone-300 mr-3 flex items-center justify-center group-hover:border-stone-400">
                                    <div class="w-2.5 h-2.5 rounded-full bg-stone-300 opacity-0 group-hover:opacity-100 transition"></div>
                                </div>
                                <span class="text-stone-600">${opt}</span>
                            </button>
                        `).join('')}
                    </div>
                    <div id="feedback-${index}" class="hidden mt-4 p-4 rounded-lg bg-stone-50 text-sm"></div>
                `;
                container.appendChild(questionDiv);
            });
        }

        function checkAnswer(qIndex, optIndex, btn) {
            if (answered.has(qIndex)) return; // Prevent changing answer
            answered.add(qIndex);

            const q = quizData[qIndex];
            const feedbackEl = document.getElementById(`feedback-${qIndex}`);
            const allBtns = document.querySelectorAll(`.option-btn-${qIndex}`);

            // Visual feedback
            if (optIndex === q.correct) {
                btn.classList.remove('border-stone-200', 'hover:bg-stone-50');
                btn.classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                feedbackEl.className = 'mt-4 p-4 rounded-lg bg-green-50 text-green-800 border border-green-200';
                feedbackEl.innerHTML = `<strong>æ­£ç¢ºï¼</strong> ${q.explanation}`;
                score++;
            } else {
                btn.classList.remove('border-stone-200', 'hover:bg-stone-50');
                btn.classList.add('bg-red-100', 'border-red-500', 'text-red-800');
                feedbackEl.className = 'mt-4 p-4 rounded-lg bg-red-50 text-red-800 border border-red-200';
                feedbackEl.innerHTML = `<strong>éŒ¯èª¤ã€‚</strong> ${q.explanation}`;
                
                // Highlight correct answer
                allBtns[q.correct].classList.add('bg-green-50', 'border-green-300');
            }

            feedbackEl.classList.remove('hidden');
            document.getElementById('score-display').innerText = `å¾—åˆ†: ${score}/${quizData.length}`;
            updateProgress(75 + (answered.size / quizData.length * 25));
        }

        // UX & Progress Logic
        function updateProgress(value) {
            const bar = document.getElementById('progressBar');
            const current = parseInt(bar.style.width) || 0;
            if (value > current) {
                bar.style.width = `${value}%`;
            }
        }

        function highlightEvent(el) {
            // Reset all
            document.querySelectorAll('#history .group').forEach(div => {
                const text = div.querySelectorAll('.text-stone-800, .text-blue-800, .text-orange-600');
                // Simple toggle effect logic would be complex here, keeping it CSS hover based mainly
                // But let's trigger a progress update
            });
            updateProgress(50);
        }

        // Initialization
        document.addEventListener('DOMContentLoaded', () => {
            initChart();
            renderQuiz();
            
            // Initial scroll progress check
            window.addEventListener('scroll', () => {
                const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrolled = (winScroll / height) * 100;
                // Only update visual bar if it's strictly scroll based, but we are using interaction based progress.
                // Keeping interaction based for "Gamification".
            });
        });

    </script>
</body>
</html>