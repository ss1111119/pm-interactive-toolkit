<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>專案品質管理備考指南 - Chapter 08</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f0f9ff;
        }
        .tool-card {
            transition: all 0.3s ease;
        }
        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .active-tab {
            background-color: #0ea5e9;
            color: white;
            border-color: #0ea5e9;
        }
        .inactive-tab {
            background-color: white;
            color: #4b5563;
            border-color: #e5e7eb;
        }
        .inactive-tab:hover {
            background-color: #f3f4f6;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Header -->
    <header class="bg-sky-700 text-white p-6 shadow-lg">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-3xl font-bold mb-2">專案品質管理 (Chapter 08) 備考指南</h1>
            <p class="text-sky-100">專為 PMP 初學者設計的「管製品質」核心概念與七大手法解析</p>
        </div>
    </header>

    <main class="max-w-4xl mx-auto p-6 space-y-10">

        <!-- Section 1: Core Concept -->
        <section class="bg-white rounded-xl shadow-md p-6 border-l-4 border-sky-500">
            <h2 class="text-2xl font-bold mb-4 flex items-center text-sky-800">
                <i data-lucide="shield-check" class="mr-2"></i> 核心觀念：管製品質 (Control Quality)
            </h2>
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <h3 class="font-bold text-lg mb-2 text-gray-700">它是什麼？</h3>
                    <p class="text-gray-600 mb-4">這就像是廚師在出菜前試味道。它是專案的<span class="font-bold text-sky-600">「品質防線」</span>，目的是找出缺失，確保交付的東西是正確的。</p>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-bold text-sm text-gray-500 uppercase mb-2">易混淆觀念大對決</h4>
                        <div class="flex flex-col space-y-2">
                            <div class="flex items-center">
                                <span class="w-24 font-bold text-sky-600 text-sm">管製品質</span>
                                <span class="text-sm text-gray-600">關注「正確性」 (內部檢查)</span>
                            </div>
                            <div class="flex items-center">
                                <span class="w-24 font-bold text-orange-500 text-sm">確認範疇</span>
                                <span class="text-sm text-gray-600">關注「驗收」 (客戶簽收)</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex flex-col justify-center bg-sky-50 p-4 rounded-lg">
                    <h3 class="font-bold text-center text-sky-800 mb-2">運作流程 (PDCA 的 Check)</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-center"><span class="bg-sky-200 w-6 h-6 rounded-full flex items-center justify-center mr-2 text-xs font-bold">1</span> 選擇對象 & 建立標準</div>
                        <div class="flex items-center"><span class="bg-sky-200 w-6 h-6 rounded-full flex items-center justify-center mr-2 text-xs font-bold">2</span> 檢驗 (Inspection)</div>
                        <div class="flex items-center"><span class="bg-sky-200 w-6 h-6 rounded-full flex items-center justify-center mr-2 text-xs font-bold">3</span> 數據與結果比較</div>
                        <div class="flex items-center"><span class="bg-sky-200 w-6 h-6 rounded-full flex items-center justify-center mr-2 text-xs font-bold">4</span> 採取修正行動</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: 7 Basic Quality Tools -->
        <section>
            <h2 class="text-2xl font-bold mb-6 flex items-center text-sky-800">
                <i data-lucide="wrench" class="mr-2"></i> 品管七大手法 (The 7 Basic Quality Tools)
            </h2>
            <p class="mb-4 text-gray-600">點擊下方標籤，學習每個工具的「考試關鍵字」與用途。</p>
            
            <!-- Tabs -->
            <div class="flex flex-wrap gap-2 mb-6" id="toolTabs">
                <!-- Tab buttons generated by JS -->
            </div>

            <!-- Content Area -->
            <div id="toolContent" class="bg-white rounded-xl shadow-lg p-8 min-h-[300px] flex flex-col md:flex-row gap-8 items-center border border-gray-100">
                <!-- Content injected by JS -->
            </div>
        </section>

        <!-- Section 3: Quiz -->
        <section class="bg-indigo-50 rounded-xl shadow-inner p-8">
            <div class="text-center mb-8">
                <h2 class="text-2xl font-bold text-indigo-900 mb-2">情境模擬測驗</h2>
                <p class="text-indigo-600">你是專案經理，遇到以下狀況該用什麼工具？</p>
                <div class="mt-2 text-sm font-medium text-gray-500">得分: <span id="score" class="text-indigo-600 text-xl font-bold">0</span> / 5</div>
            </div>

            <div id="quizContainer" class="max-w-2xl mx-auto space-y-6">
                <!-- Questions generated by JS -->
            </div>
            
            <div id="resultMessage" class="hidden mt-8 text-center bg-white p-6 rounded-lg shadow-md">
                <h3 class="text-xl font-bold mb-2">測驗完成！</h3>
                <p id="feedbackText" class="text-gray-600 mb-4"></p>
                <button onclick="resetQuiz()" class="bg-indigo-600 text-white px-6 py-2 rounded-full hover:bg-indigo-700 transition">重新測驗</button>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-gray-400 text-center p-6 mt-12 text-sm">
        <p>Generated based on NotebookLM analysis of Project Quality Management.</p>
    </footer>

    <script>
        // Data for Tools
        const tools = [
            {
                id: 'fishbone',
                name: '因果圖 (魚骨圖)',
                aka: 'Ishikawa / Fishbone Diagram',
                keyword: '根本原因 (Root Cause)',
                desc: '用來分析問題結果與潛在原因之間的關係。如果你需要「追根究底」或找出問題的源頭，選這個。',
                icon: 'git-branch', // Lucide icon name
                visual: `<svg viewBox="0 0 200 100" class="w-full h-48 stroke-sky-600 stroke-2 fill-none">
                            <line x1="20" y1="50" x2="180" y2="50" />
                            <polygon points="180,50 170,45 170,55" class="fill-sky-600" />
                            <line x1="50" y1="50" x2="70" y2="20" />
                            <line x1="80" y1="50" x2="100" y2="20" />
                            <line x1="110" y1="50" x2="130" y2="20" />
                            <line x1="60" y1="50" x2="80" y2="80" />
                            <line x1="90" y1="50" x2="110" y2="80" />
                            <text x="185" y="55" class="fill-gray-700 text-xs stroke-none">問題</text>
                            <text x="70" y="15" class="fill-gray-500 text-[10px] stroke-none">人</text>
                            <text x="100" y="15" class="fill-gray-500 text-[10px] stroke-none">機</text>
                            <text x="80" y="90" class="fill-gray-500 text-[10px] stroke-none">料</text>
                        </svg>`
            },
            {
                id: 'checklist',
                name: '檢查表',
                aka: 'Checksheet',
                keyword: '收集數據 (Data Collection)',
                desc: '最簡單的工具。用來記錄觀察到的現象或缺陷次數。如果要「計算發生幾次」或「有沒有做」，選這個。',
                icon: 'clipboard-list',
                visual: `<div class="w-full h-48 border-2 border-gray-300 rounded p-4 flex flex-col gap-2 font-mono text-sm">
                            <div class="flex justify-between border-b pb-1"><span>缺陷類型</span><span>次數</span></div>
                            <div class="flex justify-between"><span>刮痕</span><span>////</span></div>
                            <div class="flex justify-between"><span>掉漆</span><span>//</span></div>
                            <div class="flex justify-between"><span>尺寸錯誤</span><span>/</span></div>
                            <div class="mt-auto text-center text-sky-600 font-bold">收集數據基礎</div>
                        </div>`
            },
            {
                id: 'pareto',
                name: '柏拉圖',
                aka: 'Pareto Chart',
                keyword: '80/20 法則 / 優先順序',
                desc: '結合長條圖與曲線圖。用來找出造成大多數問題的「少數關鍵因素」。如果資源有限，想知道「該優先解決哪個問題」，選這個。',
                icon: 'bar-chart-2',
                visual: `<svg viewBox="0 0 200 120" class="w-full h-48">
                            <!-- Bars -->
                            <rect x="20" y="30" width="30" height="70" class="fill-sky-500" />
                            <rect x="60" y="60" width="30" height="40" class="fill-sky-400" />
                            <rect x="100" y="80" width="30" height="20" class="fill-sky-300" />
                            <rect x="140" y="90" width="30" height="10" class="fill-sky-200" />
                            <!-- Axes -->
                            <line x1="10" y1="100" x2="190" y2="100" class="stroke-gray-400 stroke-2" />
                            <line x1="10" y1="10" x2="10" y2="100" class="stroke-gray-400 stroke-2" />
                            <!-- Curve -->
                            <polyline points="35,30 75,50 115,80 155,95" class="fill-none stroke-orange-500 stroke-2" />
                            <text x="35" y="115" class="text-[10px] fill-gray-600 text-center">A</text>
                            <text x="75" y="115" class="text-[10px] fill-gray-600 text-center">B</text>
                            <text x="60" y="20" class="text-xs fill-orange-500 font-bold">關鍵少數</text>
                        </svg>`
            },
            {
                id: 'flowchart',
                name: '流程圖',
                aka: 'Flowchart',
                keyword: '流程分析 / 步驟',
                desc: '顯示系統的工作步驟。用來識別「流程哪裡可能出問題」或分析作業之間的關係。',
                icon: 'workflow',
                visual: `<svg viewBox="0 0 200 100" class="w-full h-48 stroke-sky-600 stroke-2 fill-white">
                            <rect x="10" y="40" width="40" height="20" rx="5" />
                            <line x1="50" y1="50" x2="70" y2="50" marker-end="url(#arrow)" />
                            <polygon points="90,40 110,50 90,60 70,50" />
                            <line x1="110" y1="50" x2="130" y2="50" />
                            <rect x="130" y="40" width="40" height="20" />
                            <text x="30" y="54" class="text-[8px] fill-gray-600 stroke-none text-center">開始</text>
                            <text x="90" y="53" class="text-[8px] fill-gray-600 stroke-none text-center">判斷</text>
                        </svg>`
            },
            {
                id: 'control',
                name: '管制圖',
                aka: 'Control Chart',
                keyword: '穩定性 (Stability) / 變異',
                desc: '如果你看到「管制界限 (UCL/LCL)」、「製程是否穩定」、「是否失控」，選這個。唯一有時間序列且有上下界限的圖。',
                icon: 'activity',
                visual: `<svg viewBox="0 0 200 100" class="w-full h-48">
                            <line x1="10" y1="20" x2="190" y2="20" class="stroke-red-400 stroke-1 stroke-dasharray-4" />
                            <text x="170" y="15" class="text-[8px] fill-red-400">UCL</text>
                            <line x1="10" y1="50" x2="190" y2="50" class="stroke-gray-300 stroke-1" />
                            <line x1="10" y1="80" x2="190" y2="80" class="stroke-red-400 stroke-1 stroke-dasharray-4" />
                            <text x="170" y="90" class="text-[8px] fill-red-400">LCL</text>
                            <polyline points="10,50 30,45 50,55 70,30 90,60 110,50 130,40 150,70 170,50" class="fill-none stroke-sky-600 stroke-2" />
                            <circle cx="70" cy="30" r="2" class="fill-red-500" />
                        </svg>`
            },
            {
                id: 'histogram',
                name: '直方圖',
                aka: 'Histogram',
                keyword: '分佈狀態 / 集中趨勢',
                desc: '雖然跟長條圖很像，但它是用來看「連續數據」的分佈形狀。例如：產品重量大多集中在哪個範圍？',
                icon: 'bar-chart',
                visual: `<svg viewBox="0 0 200 100" class="w-full h-48">
                            <rect x="40" y="70" width="20" height="30" class="fill-sky-300" />
                            <rect x="60" y="40" width="20" height="60" class="fill-sky-400" />
                            <rect x="80" y="20" width="20" height="80" class="fill-sky-500" />
                            <rect x="100" y="40" width="20" height="60" class="fill-sky-400" />
                            <rect x="120" y="60" width="20" height="40" class="fill-sky-300" />
                            <line x1="20" y1="100" x2="180" y2="100" class="stroke-gray-500" />
                            <path d="M40,100 Q80,-10 140,100" class="fill-none stroke-gray-400 stroke-dasharray-2" />
                        </svg>`
            },
            {
                id: 'scatter',
                name: '散佈圖',
                aka: 'Scatter Diagram',
                keyword: '相關性 (Correlation)',
                desc: '看兩個變數（X, Y）有沒有關係。例如：加班時數越多，缺陷數量是否越多？',
                icon: 'more-horizontal',
                visual: `<svg viewBox="0 0 200 100" class="w-full h-48">
                             <line x1="20" y1="90" x2="180" y2="90" class="stroke-gray-400" />
                             <line x1="20" y1="10" x2="20" y2="90" class="stroke-gray-400" />
                             <circle cx="40" cy="80" r="2" class="fill-sky-600" />
                             <circle cx="60" cy="75" r="2" class="fill-sky-600" />
                             <circle cx="80" cy="60" r="2" class="fill-sky-600" />
                             <circle cx="100" cy="50" r="2" class="fill-sky-600" />
                             <circle cx="120" cy="45" r="2" class="fill-sky-600" />
                             <circle cx="140" cy="30" r="2" class="fill-sky-600" />
                             <line x1="30" y1="85" x2="150" y2="25" class="stroke-orange-400 stroke-1 stroke-dasharray-2" />
                             <text x="100" y="80" class="text-[10px] fill-gray-500">正相關</text>
                        </svg>`
            }
        ];

        // Data for Quiz
        const questions = [
            {
                q: "你的專案團隊發現產品缺陷率很高，想要找出造成這些缺陷的「根本原因」，大家開始進行腦力激盪。請問該使用哪個工具來整理這些想法？",
                options: ["散佈圖", "直方圖", "因果圖 (魚骨圖)", "管制圖"],
                ans: 2,
                hint: "關鍵字：根本原因、追溯問題根源。"
            },
            {
                q: "你收集了大量關於客戶投訴的數據，發現問題種類繁多。你想利用 80/20 法則，找出發生頻率最高的少數幾個問題，以便優先處理。你該用什麼？",
                options: ["柏拉圖", "流程圖", "檢查表", "散佈圖"],
                ans: 0,
                hint: "關鍵字：80/20 法則、少數關鍵因素、重點管理。"
            },
            {
                q: "你想要監控目前的製程是否處於「穩定狀態」，以及變異是否在可接受的界限內。你應該查看哪張圖？",
                options: ["因果圖", "管制圖", "柏拉圖", "直方圖"],
                ans: 1,
                hint: "關鍵字：穩定狀態、管制界限 (Limits)、修正行動。"
            },
            {
                q: "團隊懷疑「溫度」升高是否會導致「硬度」下降。為了驗證這兩個變數之間是否存在關聯，該畫什麼圖？",
                options: ["流程圖", "散佈圖", "檢查表", "管制圖"],
                ans: 1,
                hint: "關鍵字：兩個變數、相關性、關聯性。"
            },
            {
                q: "在開始分析之前，你需要先有數據。團隊設計了一張表格，用來記錄每天發生的錯誤次數，方便後續統計。這是什麼工具？",
                options: ["流程圖", "柏拉圖", "檢查表", "直方圖"],
                ans: 2,
                hint: "關鍵字：收集資料、記錄次數、分析的基礎。"
            }
        ];

        // Initialize UI
        let currentTab = 0;
        let score = 0;
        const toolTabsContainer = document.getElementById('toolTabs');
        const toolContentContainer = document.getElementById('toolContent');
        const quizContainer = document.getElementById('quizContainer');

        // Render Tabs and Content
        function renderTools() {
            toolTabsContainer.innerHTML = '';
            tools.forEach((tool, index) => {
                const btn = document.createElement('button');
                btn.className = `px-4 py-2 rounded-full border text-sm font-medium transition ${index === currentTab ? 'active-tab' : 'inactive-tab'}`;
                btn.innerText = tool.name;
                btn.onclick = () => {
                    currentTab = index;
                    renderTools();
                };
                toolTabsContainer.appendChild(btn);
            });

            const activeTool = tools[currentTab];
            toolContentContainer.innerHTML = `
                <div class="w-full md:w-1/2 flex justify-center items-center bg-gray-50 rounded-lg p-4 border border-gray-200">
                    ${activeTool.visual}
                </div>
                <div class="w-full md:w-1/2">
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">${activeTool.name}</h3>
                    <p class="text-sm text-gray-500 mb-4 font-mono">${activeTool.aka}</p>
                    
                    <div class="mb-4">
                        <span class="inline-block bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded font-bold uppercase tracking-wide">考試必背</span>
                        <p class="text-orange-700 font-bold text-lg mt-1">${activeTool.keyword}</p>
                    </div>
                    
                    <p class="text-gray-600 leading-relaxed">${activeTool.desc}</p>
                </div>
            `;
            lucide.createIcons();
        }

        // Render Quiz
        function renderQuiz() {
            quizContainer.innerHTML = '';
            score = 0;
            updateScore();
            
            questions.forEach((q, qIndex) => {
                const qEl = document.createElement('div');
                qEl.className = 'bg-white p-6 rounded-lg shadow-sm border border-gray-100';
                
                let optionsHtml = '';
                q.options.forEach((opt, oIndex) => {
                    optionsHtml += `
                        <button onclick="checkAnswer(${qIndex}, ${oIndex}, this)" 
                            class="w-full text-left p-3 rounded border border-gray-200 hover:bg-indigo-50 transition mb-2 option-btn-${qIndex}">
                            ${opt}
                        </button>
                    `;
                });

                qEl.innerHTML = `
                    <p class="font-bold text-lg text-gray-800 mb-4">Q${qIndex + 1}: ${q.q}</p>
                    <div class="space-y-2">${optionsHtml}</div>
                    <div id="feedback-${qIndex}" class="hidden mt-4 p-3 rounded bg-gray-100 text-sm"></div>
                `;
                quizContainer.appendChild(qEl);
            });
            
            document.getElementById('resultMessage').classList.add('hidden');
        }

        function checkAnswer(qIndex, selectedIndex, btnElement) {
            const question = questions[qIndex];
            const feedbackEl = document.getElementById(`feedback-${qIndex}`);
            const allBtns = document.querySelectorAll(`.option-btn-${qIndex}`);
            
            // Disable all buttons for this question
            allBtns.forEach(btn => btn.disabled = true);

            if (selectedIndex === question.ans) {
                btnElement.classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                feedbackEl.innerHTML = `<span class="text-green-600 font-bold">答對了！</span> ${question.hint}`;
                feedbackEl.classList.remove('bg-red-50', 'text-red-800');
                feedbackEl.classList.add('bg-green-50', 'text-green-800');
                score++;
            } else {
                btnElement.classList.add('bg-red-100', 'border-red-500', 'text-red-800');
                // Highlight correct answer
                allBtns[question.ans].classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                
                feedbackEl.innerHTML = `<span class="text-red-600 font-bold">答錯了。</span> 正確答案是「${question.options[question.ans]}」。<br>${question.hint}`;
                feedbackEl.classList.remove('bg-green-50', 'text-green-800');
                feedbackEl.classList.add('bg-red-50', 'text-red-800');
            }
            
            feedbackEl.classList.remove('hidden');
            updateScore();
            
            // Check if all answered
            const disabledBtns = document.querySelectorAll('button:disabled');
            // Assuming 4 options per question, total buttons = questions.length * 4. 
            // We just check if we have interacted with all questions.
            // Simpler: Check if score logic needs to trigger end game
            if (document.querySelectorAll('[id^="feedback-"]:not(.hidden)').length === questions.length) {
                showFinalResult();
            }
        }

        function updateScore() {
            document.getElementById('score').innerText = score;
        }

        function showFinalResult() {
            const resultMsg = document.getElementById('resultMessage');
            const feedbackText = document.getElementById('feedbackText');
            resultMsg.classList.remove('hidden');
            
            if (score === questions.length) {
                feedbackText.innerText = "太厲害了！你已經完全掌握了品管七大手法！考試沒問題！";
            } else if (score >= 3) {
                feedbackText.innerText = "不錯喔！大部分觀念都懂了，再複習一下答錯的題目即可。";
            } else {
                feedbackText.innerText = "別灰心！建議回到上方的工具卡片區，再把關鍵字記熟一點。";
            }
        }

        function resetQuiz() {
            renderQuiz();
            window.location.href = "#quizContainer";
        }

        // Initialize
        renderTools();
        renderQuiz();
        lucide.createIcons();

    </script>
</body>
</html>