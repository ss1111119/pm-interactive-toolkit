<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ˆæ¡ˆè³‡æºç®¡ç†å­¸ç¿’æŒ‡å—</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fadeIn 0.5s ease-in; }
    </style>
</head>
<body class="bg-slate-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Icons components wrapper (using Font Awesome)
        const iconMap = {
            'book-open': 'fa-solid fa-book-open',
            'file-text': 'fa-solid fa-file-text',
            'trending-up': 'fa-solid fa-arrow-trend-up',
            'alert-triangle': 'fa-solid fa-triangle-exclamation',
            'trophy': 'fa-solid fa-trophy',
            'award': 'fa-solid fa-award',
            'check': 'fa-solid fa-check',
            'x': 'fa-solid fa-x',
            'arrow-right': 'fa-solid fa-arrow-right',
            'puzzle-piece': 'fa-solid fa-puzzle-piece', // Added for Integration
            'globe': 'fa-solid fa-earth-asia'
        };
        
        const Icon = ({ name, size = 24, className = '' }) => {
            const faClass = iconMap[name] || `fa-solid fa-${name}`;
            return <i className={`${faClass} ${className}`} style={{ fontSize: `${size}px` }}></i>;
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('learn');

            return (
                <div className="min-h-screen flex flex-col">
                    <header className="bg-blue-600 text-white p-4 shadow-lg sticky top-0 z-10">
                        <div className="max-w-4xl mx-auto flex justify-between items-center">
                            <h1 className="text-xl md:text-2xl font-bold flex items-center gap-2">
                                <Icon name="book-open" /> å°ˆæ¡ˆè³‡æºç®¡ç†å­¸ç¿’æŒ‡å—
                            </h1>
                            <nav className="flex space-x-2">
                                <button 
                                    onClick={() => setActiveTab('learn')}
                                    className={`px-3 py-1 rounded-full text-sm font-medium transition-colors ${activeTab === 'learn' ? 'bg-white text-blue-600' : 'bg-blue-500 hover:bg-blue-400'}`}
                                >
                                    æ ¸å¿ƒè§€å¿µ
                                </button>
                                <button 
                                    onClick={() => setActiveTab('tools')}
                                    className={`px-3 py-1 rounded-full text-sm font-medium transition-colors ${activeTab === 'tools' ? 'bg-white text-blue-600' : 'bg-blue-500 hover:bg-blue-400'}`}
                                >
                                    åœ–è¡¨å·¥å…·
                                </button>
                                <button 
                                    onClick={() => setActiveTab('quiz')}
                                    className={`px-3 py-1 rounded-full text-sm font-medium transition-colors ${activeTab === 'quiz' ? 'bg-white text-blue-600' : 'bg-blue-500 hover:bg-blue-400'}`}
                                >
                                    æ¨¡æ“¬æ¸¬é©—
                                </button>
                            </nav>
                        </div>
                    </header>

                    <main className="flex-grow p-4 md:p-8 max-w-4xl mx-auto w-full">
                        {activeTab === 'learn' && <LearnSection />}
                        {activeTab === 'tools' && <ToolsSection />}
                        {activeTab === 'quiz' && <QuizSection />}
                    </main>

                    <footer className="bg-slate-800 text-slate-400 p-4 text-center text-sm">
                        <p>å°ˆæ¡ˆç®¡ç† PMP å‚™è€ƒè¼”åŠ©å·¥å…· | åŸºæ–¼ NotebookLM åˆ†æå…§å®¹è£½ä½œ</p>
                    </footer>
                </div>
            );
        };

        // Section 1: Learning Cards
        const LearnSection = () => {
            const concepts = [
                {
                    title: "1. ç®¡ç†ç¯„ç–‡çš„æ“´å¼µ",
                    icon: "globe",
                    color: "bg-blue-100 text-blue-800",
                    content: "éå»åªç®¡ã€Œäººã€ï¼ˆäººåŠ›è³‡æºï¼‰ï¼Œç¾åœ¨æ˜¯ã€Œå…¨æ–¹ä½è³‡æºã€ã€‚é€™åŒ…æ‹¬ï¼šåœ˜éšŠè³‡æºï¼ˆTeamï¼‰+ å¯¦é«”è³‡æºï¼ˆè¨­å‚™ã€ææ–™ã€è¨­æ–½ï¼‰ã€‚",
                    key: "é‡é»ï¼šä¸åªæ˜¯ç®¡äººï¼Œé‚„è¦ç®¡æ±è¥¿ã€‚"
                },
                {
                    title: "2. è¦åŠƒçš„æ ¸å¿ƒç”¢å‡º",
                    icon: "file-text",
                    color: "bg-green-100 text-green-800",
                    content: (
                        <ul className="list-disc pl-5 space-y-2">
                            <li><strong>è³‡æºç®¡ç†è¨ˆç•«æ›¸ (Resource Management Plan)ï¼š</strong> æŒ‡å—/èªªæ˜æ›¸ã€‚å®šç¾©å¦‚ä½•åˆ†é¡ã€ç²å–ã€ç®¡ç†è³‡æºã€‚</li>
                            <li><strong>åœ˜éšŠç« ç¨‹ (Team Charter)ï¼š</strong> ç­è¦/å®¶è¨“ã€‚å®šç¾©åƒ¹å€¼è§€ã€æºé€šæº–å‰‡ã€è¡çªè§£æ±ºæ–¹å¼ã€‚</li>
                        </ul>
                    ),
                    key: "åˆ†è¾¨ï¼šè¨ˆç•«æ›¸æ˜¯ç¡¬æ€§è¦å‰‡(How-to)ï¼Œç« ç¨‹æ˜¯è»Ÿæ€§æ–‡åŒ–(Values)ã€‚"
                },
                {
                    title: "3. æ•´åˆèˆ‡é€£å‹•æ€§ (è£œå¼·)",
                    icon: "puzzle-piece",
                    color: "bg-orange-100 text-orange-800",
                    content: (
                        <ul className="list-disc pl-5 space-y-2">
                            <li><strong>éå­¤ç«‹æµç¨‹ï¼š</strong> éœ€åƒè€ƒã€Œç¯„ç–‡åŸºæº–ã€èˆ‡ã€Œå“è³ªã€ï¼Œå› ç‚ºè³‡æºç›´æ¥å½±éŸ¿äº¤ä»˜æˆæœã€‚</li>
                            <li><strong>æ¼¸é€²æ˜ç´° (Progressive Elaboration)ï¼š</strong> è³‡æºè¦åŠƒä¸æ˜¯ä¸€æ¬¡å®šæ¡ˆï¼Œæœƒéš¨è‘—éœ€æ±‚èˆ‡é¢¨éšªæ›´æ˜ç¢ºè€Œä¸æ–·èª¿æ•´æ›´æ–°ã€‚</li>
                        </ul>
                    ),
                    key: "é‡é»ï¼šè³‡æºè¦åŠƒæ˜¯å‹•æ…‹çš„ï¼Œéš¨å°ˆæ¡ˆè³‡è¨Šæ˜æœ—è€Œæ›´æ–°ã€‚"
                },
                {
                    title: "4. ç¾ä»£ç®¡ç†è¶¨å‹¢",
                    icon: "trending-up",
                    color: "bg-purple-100 text-purple-800",
                    content: (
                        <ul className="list-disc pl-5 space-y-2">
                            <li><strong>æƒ…ç·’æ™ºå•† (EQ)ï¼š</strong> ç®¡ç†åœ˜éšŠæ™‚éœ€è€ƒé‡æˆå“¡æƒ…ç·’ã€‚</li>
                            <li><strong>è™›æ“¬åœ˜éšŠ (Virtual Teams)ï¼š</strong> å–„ç”¨é€šè¨ŠæŠ€è¡“ç®¡ç†åˆ†æ•£æˆå“¡ã€‚</li>
                            <li><strong>è‡ªæˆ‘çµ„ç¹”åœ˜éšŠ (Self-organizing)ï¼š</strong> æ•æ·æ¦‚å¿µï¼Œåœ˜éšŠè‡ªè¡Œæ±ºå®šå¦‚ä½•åŸ·è¡Œå·¥ä½œã€‚</li>
                        </ul>
                    ),
                    key: "é‡é»ï¼šè»Ÿå¯¦åŠ›(EQ)èˆ‡æ–°å‹æ…‹åœ˜éšŠæ¶æ§‹ã€‚"
                }
            ];

            return (
                <div className="space-y-6 animate-fade-in">
                    <div className="bg-white p-6 rounded-xl shadow-md border-l-4 border-blue-500">
                        <h2 className="text-2xl font-bold mb-2 text-slate-800">è¦åŠƒè³‡æºç®¡ç† (Plan Resource Management)</h2>
                        <p className="text-slate-600">é€™æ˜¯æ•´å€‹è³‡æºç”Ÿå‘½é€±æœŸçš„è—åœ–ã€‚å®ƒçš„ç›®çš„æ˜¯ç¢ºä¿åœ¨æ­£ç¢ºçš„æ™‚é–“ï¼Œå°‡æ­£ç¢ºçš„è³‡æºï¼ˆäººèˆ‡ç‰©ï¼‰æŠ•å…¥åˆ°æ­£ç¢ºçš„å·¥ä½œä¸­ã€‚</p>
                    </div>

                    <div className="grid md:grid-cols-2 gap-4">
                        {concepts.map((item, idx) => (
                            <div key={idx} className="bg-white p-5 rounded-xl shadow hover:shadow-lg transition-shadow">
                                <div className={`inline-flex p-2 rounded-lg mb-3 ${item.color}`}>
                                    <Icon name={item.icon} />
                                </div>
                                <h3 className="text-xl font-bold mb-2 text-slate-800">{item.title}</h3>
                                <div className="text-slate-600 mb-4 text-sm leading-relaxed">{item.content}</div>
                                <div className="bg-slate-50 p-2 rounded text-xs font-semibold text-slate-500 border border-slate-200">
                                    ğŸ’¡ {item.key}
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        // Section 2: Interactive Tools (RACI & RBS)
        const ToolsSection = () => {
            const [selectedTool, setSelectedTool] = useState('RACI');

            return (
                <div className="space-y-6">
                    <div className="flex justify-center space-x-4 mb-6">
                        <button 
                            onClick={() => setSelectedTool('RACI')}
                            className={`px-4 py-2 rounded-lg font-bold transition-all ${selectedTool === 'RACI' ? 'bg-blue-600 text-white shadow-lg scale-105' : 'bg-white text-slate-600 border'}`}
                        >
                            RACI è²¬ä»»åˆ†é…çŸ©é™£
                        </button>
                        <button 
                            onClick={() => setSelectedTool('Hierarchical')}
                            className={`px-4 py-2 rounded-lg font-bold transition-all ${selectedTool === 'Hierarchical' ? 'bg-blue-600 text-white shadow-lg scale-105' : 'bg-white text-slate-600 border'}`}
                        >
                            å±¤ç´šçµæ§‹åœ– (WBS/OBS/RBS)
                        </button>
                    </div>

                    {selectedTool === 'RACI' ? <RACIExplainer /> : <HierarchyExplainer />}
                </div>
            );
        };

        const RACIExplainer = () => {
            const roles = [
                { code: 'R', name: 'Responsible (ç•¶è²¬è€…)', desc: 'å¯¦éš›å‹•æ‰‹åšé€™ä»¶äº‹çš„äººã€‚' },
                { code: 'A', name: 'Accountable (è² è²¬è€…)', desc: 'è² èµ·æœ€çµ‚æˆæ•—è²¬ä»»çš„äººï¼ˆé€šå¸¸é€™æ¬„åªèƒ½æœ‰ä¸€å€‹äººï¼Œè² è²¬ç°½æ ¸ï¼‰ã€‚' },
                { code: 'C', name: 'Consult (è«®è©¢)', desc: 'åšæ±ºå®šå‰éœ€è¦è©¢å•æ„è¦‹çš„å°ˆå®¶ï¼ˆé›™å‘æºé€šï¼‰ã€‚' },
                { code: 'I', name: 'Inform (å‘ŠçŸ¥)', desc: 'åšå®Œä¹‹å¾Œéœ€è¦è¢«é€šçŸ¥çµæœçš„äººï¼ˆå–®å‘æºé€šï¼‰ã€‚' },
            ];

            return (
                <div className="bg-white p-6 rounded-xl shadow-md">
                    <h3 className="text-xl font-bold mb-4 text-slate-800">RAM èˆ‡ RACI çŸ©é™£</h3>
                    <p className="mb-4 text-slate-600">RAM (è²¬ä»»æŒ‡æ´¾çŸ©é™£) é¡¯ç¤ºè³‡æºèˆ‡æ´»å‹•çš„é€£çµï¼Œè€Œ RACI æ˜¯æœ€å¸¸è¦‹çš„ä¸€ç¨® RAMã€‚</p>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        {roles.map((r, i) => (
                            <div key={i} className="border p-4 rounded-lg bg-slate-50 hover:bg-blue-50 transition-colors">
                                <span className="text-2xl font-black text-blue-600 block mb-1">{r.code}</span>
                                <h4 className="font-bold text-slate-800">{r.name}</h4>
                                <p className="text-sm text-slate-500">{r.desc}</p>
                            </div>
                        ))}
                    </div>

                    <div className="bg-yellow-50 border border-yellow-200 p-4 rounded-lg">
                        <h4 className="font-bold text-yellow-800 flex items-center gap-2">
                            <Icon name="alert-triangle" size={18} /> è€ƒè©¦é™·é˜±
                        </h4>
                        <p className="text-sm text-yellow-700 mt-1">
                            è€ƒè©¦å¸¸å•ï¼šã€Œèª°è¦å°é€™é …ä»»å‹™çš„æˆæ•—è² èµ·æœ€çµ‚è²¬ä»»ï¼Ÿã€ç­”æ¡ˆæ˜¯ <strong>Accountable (A)</strong>ï¼Œä¸æ˜¯ Responsible (R)ã€‚
                            æ­¤å¤–ï¼ŒA é€šå¸¸åªèƒ½æœ‰ä¸€å€‹äººï¼Œä»¥å…æ¬Šè²¬ä¸æ¸…ã€‚
                        </p>
                    </div>
                </div>
            );
        };

        const HierarchyExplainer = () => {
            return (
                <div className="bg-white p-6 rounded-xl shadow-md space-y-6">
                    <h3 className="text-xl font-bold text-slate-800">ä¸‰ç¨®å±¤ç´šåœ–è¡¨çš„å·®ç•°</h3>
                    <p className="text-slate-600">é€™ä¸‰å€‹é•·å¾—å¾ˆåƒï¼Œä½†åˆ†é¡é‚è¼¯ä¸åŒã€‚è€ƒè©¦æœƒæè¿°ä¸€å€‹åœ–è¡¨ï¼Œå•ä½ å®ƒæ˜¯å“ªä¸€ç¨®ã€‚</p>

                    <div className="grid gap-4">
                        <div className="border rounded-lg overflow-hidden">
                            <div className="bg-blue-600 text-white p-3 font-bold flex items-center justify-between">
                                <span>WBS (å·¥ä½œåˆ†è§£çµæ§‹)</span>
                                <span className="text-xs bg-blue-500 px-2 py-1 rounded">å°ˆæ³¨æ–¼ã€Œäº‹ã€</span>
                            </div>
                            <div className="p-4 bg-slate-50 text-sm">
                                <div className="flex flex-col items-center">
                                    <div className="border border-slate-300 bg-white px-3 py-1 mb-2">å°ˆæ¡ˆç›®æ¨™</div>
                                    <div className="h-4 w-px bg-slate-300"></div>
                                    <div className="flex gap-2">
                                        <div className="border border-slate-300 bg-white px-2 py-1">å·¥ä½œåŒ… A</div>
                                        <div className="border border-slate-300 bg-white px-2 py-1">å·¥ä½œåŒ… B</div>
                                    </div>
                                </div>
                                <p className="mt-3 text-slate-500">å®šç¾©ã€Œåšä»€éº¼å·¥ä½œã€ã€‚</p>
                            </div>
                        </div>

                        <div className="border rounded-lg overflow-hidden">
                            <div className="bg-indigo-600 text-white p-3 font-bold flex items-center justify-between">
                                <span>OBS (çµ„ç¹”åˆ†è§£çµæ§‹)</span>
                                <span className="text-xs bg-indigo-500 px-2 py-1 rounded">å°ˆæ³¨æ–¼ã€Œéƒ¨é–€ã€</span>
                            </div>
                            <div className="p-4 bg-slate-50 text-sm">
                                <div className="flex flex-col items-center">
                                    <div className="border border-slate-300 bg-white px-3 py-1 mb-2">å…¬å¸ç¸½éƒ¨</div>
                                    <div className="h-4 w-px bg-slate-300"></div>
                                    <div className="flex gap-2">
                                        <div className="border border-slate-300 bg-white px-2 py-1">è³‡è¨Šéƒ¨</div>
                                        <div className="border border-slate-300 bg-white px-2 py-1">è¡ŒéŠ·éƒ¨</div>
                                    </div>
                                </div>
                                <p className="mt-3 text-slate-500">é¡¯ç¤ºå“ªå€‹ã€Œéƒ¨é–€ã€è² è²¬å“ªäº›å·¥ä½œã€‚</p>
                            </div>
                        </div>

                        <div className="border rounded-lg overflow-hidden">
                            <div className="bg-emerald-600 text-white p-3 font-bold flex items-center justify-between">
                                <span>RBS (è³‡æºåˆ†è§£çµæ§‹)</span>
                                <span className="text-xs bg-emerald-500 px-2 py-1 rounded">å°ˆæ³¨æ–¼ã€Œè³‡æºé¡åˆ¥ã€</span>
                            </div>
                            <div className="p-4 bg-slate-50 text-sm">
                                <div className="flex flex-col items-center">
                                    <div className="border border-slate-300 bg-white px-3 py-1 mb-2">å°ˆæ¡ˆè³‡æº</div>
                                    <div className="h-4 w-px bg-slate-300"></div>
                                    <div className="flex gap-4">
                                        <div className="flex flex-col items-center">
                                            <div className="border border-slate-300 bg-white px-2 py-1 mb-1">äººåŠ›</div>
                                            <div className="text-xs text-slate-400">å·¥ç¨‹å¸«, è¨­è¨ˆå¸«</div>
                                        </div>
                                        <div className="flex flex-col items-center">
                                            <div className="border border-slate-300 bg-white px-2 py-1 mb-1">ææ–™</div>
                                            <div className="text-xs text-slate-400">ä¼ºæœå™¨, è»Ÿé«”</div>
                                        </div>
                                    </div>
                                </div>
                                <p className="mt-3 text-slate-500">WBS çš„è¡ç”Ÿç‰©ï¼ŒæŒ‰ã€Œé¡åˆ¥ã€é¡¯ç¤ºè³‡æºã€‚å¯ç”¨æ–¼è¿½è¹¤æˆæœ¬ã€‚</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Section 3: Quiz
        const QuizSection = () => {
            const questions = [
                {
                    q: "ç¾åœ¨çš„ã€Œå°ˆæ¡ˆè³‡æºç®¡ç†ã€èˆ‡éå»çš„ã€ŒäººåŠ›è³‡æºç®¡ç†ã€æœ€å¤§çš„ä¸åŒæ˜¯ä»€éº¼ï¼Ÿ",
                    options: [
                        "åªé—œæ³¨è™›æ“¬åœ˜éšŠ",
                        "åªé—œæ³¨å¯¦é«”è¨­å‚™çš„æ¡è³¼",
                        "é™¤äº†ç®¡äººï¼ˆåœ˜éšŠï¼‰ï¼Œä¹ŸåŒ…å«å¯¦é«”è³‡æºï¼ˆææ–™ã€è¨­å‚™ï¼‰çš„ç®¡ç†",
                        "ä¸éœ€è¦åˆ¶å®šè³‡æºç®¡ç†è¨ˆç•«æ›¸"
                    ],
                    ans: 2,
                    expl: "è¦åŠƒæµç¨‹å¿…é ˆåŒæ™‚æ¶µè“‹åœ˜éšŠè³‡æºï¼ˆäººåŠ›ï¼‰èˆ‡å¯¦é«”è³‡æºï¼ˆè¨­å‚™ã€ææ–™ã€è¨­æ–½ã€åŸºç¤å»ºè¨­ï¼‰ã€‚"
                },
                {
                    q: "å“ªä¸€ä»½æ–‡ä»¶ç”¨æ–¼å»ºç«‹åœ˜éšŠåƒ¹å€¼è§€ã€æºé€šæº–å‰‡åŠæ±ºç­–æµç¨‹ï¼Ÿ",
                    options: [
                        "è³‡æºç®¡ç†è¨ˆç•«æ›¸ (Resource Management Plan)",
                        "åœ˜éšŠç« ç¨‹ (Team Charter)",
                        "RACI çŸ©é™£",
                        "å°ˆæ¡ˆç¯„ç–‡èªªæ˜æ›¸"
                    ],
                    ans: 1,
                    expl: "åœ˜éšŠç« ç¨‹æ˜¯è¦åŠƒéšæ®µçš„é—œéµç”¢å‡ºï¼Œç”¨ä»¥å»ºç«‹åœ˜éšŠé‹ä½œçš„ã€Œè»Ÿæ€§ã€è¦å‰‡èˆ‡å…±è­˜ã€‚"
                },
                {
                    q: "åœ¨ RACI çŸ©é™£ä¸­ï¼Œè² è²¬ã€Œæ ¸å‡†ã€å·¥ä½œä¸”å°æœ€çµ‚çµæœè² å…¨è²¬çš„äººæ˜¯ï¼Ÿ",
                    options: [
                        "R (Responsible)",
                        "A (Accountable)",
                        "C (Consult)",
                        "I (Inform)"
                    ],
                    ans: 1,
                    expl: "A (Accountable) æ˜¯ç•¶è²¬è€…ï¼Œè² è²¬æœ€çµ‚çš„æ ¸å‡†èˆ‡æˆæ•—è²¬ä»»ï¼Œé€šå¸¸ä¸€é …å·¥ä½œåªæœ‰ä¸€ä½ã€‚"
                },
                {
                    q: "å¦‚æœä½ æƒ³çœ‹å°ˆæ¡ˆæ‰€éœ€çš„è³‡æºæ˜¯å±¬æ–¼ã€ŒäººåŠ›é¡ã€é‚„æ˜¯ã€Œææ–™é¡ã€çš„å±¤ç´šçµæ§‹ï¼Œä½ æ‡‰è©²çœ‹å“ªå¼µåœ–ï¼Ÿ",
                    options: [
                        "WBS (å·¥ä½œåˆ†è§£çµæ§‹)",
                        "OBS (çµ„ç¹”åˆ†è§£çµæ§‹)",
                        "RBS (è³‡æºåˆ†è§£çµæ§‹)",
                        "ç¶²è·¯åœ– (Network Diagram)"
                    ],
                    ans: 2,
                    expl: "RBS (è³‡æºåˆ†è§£çµæ§‹) æŒ‰è³‡æºé¡åˆ¥ï¼ˆå¦‚äººåŠ›ã€ææ–™ï¼‰é¡¯ç¤ºè³‡æºçš„å±¤ç´šçµæ§‹ã€‚"
                }
            ];

            const [currentQ, setCurrentQ] = useState(0);
            const [score, setScore] = useState(0);
            const [showResult, setShowResult] = useState(false);
            const [selectedOption, setSelectedOption] = useState(null);
            const [isAnswered, setIsAnswered] = useState(false);

            const handleAnswer = (idx) => {
                if (isAnswered) return;
                setSelectedOption(idx);
                setIsAnswered(true);
                if (idx === questions[currentQ].ans) {
                    setScore(score + 1);
                }
            };

            const nextQuestion = () => {
                if (currentQ < questions.length - 1) {
                    setCurrentQ(currentQ + 1);
                    setSelectedOption(null);
                    setIsAnswered(false);
                } else {
                    setShowResult(true);
                }
            };

            const restart = () => {
                setCurrentQ(0);
                setScore(0);
                setShowResult(false);
                setSelectedOption(null);
                setIsAnswered(false);
            };

            if (showResult) {
                return (
                    <div className="bg-white p-8 rounded-xl shadow-md text-center animate-fade-in">
                        <Icon name={score === questions.length ? "trophy" : "award"} size={64} className={`mx-auto mb-4 ${score === questions.length ? "text-yellow-500" : "text-blue-500"}`} />
                        <h2 className="text-3xl font-bold mb-4">æ¸¬é©—çµæœ</h2>
                        <p className="text-xl mb-6">ä½ ç­”å°äº† <span className="font-bold text-blue-600">{score}</span> / {questions.length} é¡Œ</p>
                        <p className="text-slate-600 mb-8">
                            {score === questions.length ? "å¤ªæ£’äº†ï¼ä½ å·²ç¶“æŒæ¡äº†è¦åŠƒè³‡æºç®¡ç†çš„æ ¸å¿ƒæ¦‚å¿µï¼" : "å†è¤‡ç¿’ä¸€ä¸‹è§€å¿µï¼Œä½ ä¸€å®šå¯ä»¥æ‹¿æ»¿åˆ†ï¼"}
                        </p>
                        <button onClick={restart} className="bg-blue-600 text-white px-6 py-2 rounded-full font-bold hover:bg-blue-700 transition-colors">
                            é‡æ–°æ¸¬é©—
                        </button>
                    </div>
                );
            }

            return (
                <div className="bg-white p-6 md:p-8 rounded-xl shadow-md max-w-2xl mx-auto">
                    <div className="flex justify-between items-center mb-6">
                        <span className="text-sm font-bold text-slate-400">Question {currentQ + 1} of {questions.length}</span>
                        <span className="text-sm font-bold text-blue-600">Score: {score}</span>
                    </div>

                    <h3 className="text-xl font-bold mb-6 text-slate-800">{questions[currentQ].q}</h3>

                    <div className="space-y-3 mb-6">
                        {questions[currentQ].options.map((opt, idx) => (
                            <button
                                key={idx}
                                onClick={() => handleAnswer(idx)}
                                disabled={isAnswered}
                                className={`w-full text-left p-4 rounded-lg border transition-all ${
                                    isAnswered 
                                        ? idx === questions[currentQ].ans 
                                            ? "bg-green-100 border-green-500 text-green-800" 
                                            : idx === selectedOption 
                                                ? "bg-red-100 border-red-500 text-red-800"
                                                : "bg-slate-50 border-slate-200 opacity-50"
                                        : "hover:bg-blue-50 border-slate-200 hover:border-blue-300"
                                }`}
                            >
                                <div className="flex items-center">
                                    <div className={`w-6 h-6 rounded-full border flex items-center justify-center mr-3 ${
                                        isAnswered && idx === questions[currentQ].ans ? "bg-green-500 border-green-500 text-white" :
                                        isAnswered && idx === selectedOption ? "bg-red-500 border-red-500 text-white" :
                                        "border-slate-300"
                                    }`}>
                                        {isAnswered && idx === questions[currentQ].ans ? <Icon name="check" size={14} /> : 
                                         isAnswered && idx === selectedOption ? <Icon name="x" size={14} /> : 
                                         <span className="text-xs">{String.fromCharCode(65 + idx)}</span>}
                                    </div>
                                    {opt}
                                </div>
                            </button>
                        ))}
                    </div>

                    {isAnswered && (
                        <div className="animate-fade-in">
                            <div className="bg-blue-50 p-4 rounded-lg mb-4 text-sm text-blue-800 border border-blue-200">
                                <strong>è§£æï¼š</strong> {questions[currentQ].expl}
                            </div>
                            <button onClick={nextQuestion} className="w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2">
                                {currentQ < questions.length - 1 ? "ä¸‹ä¸€é¡Œ" : "æŸ¥çœ‹çµæœ"} <Icon name="arrow-right" size={18} />
                            </button>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>