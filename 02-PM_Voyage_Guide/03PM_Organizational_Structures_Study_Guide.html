<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PMP å‚™è€ƒæŒ‡å—ï¼šçµ„ç¹”çµæ§‹èˆ‡å°ˆæ¡ˆç¶“ç†</title>
    
    <!-- å¼•å…¥ Tailwind CSS (æ¨£å¼åº«) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- å¼•å…¥ React å’Œ ReactDOM (æ ¸å¿ƒå¼•æ“) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- å¼•å…¥ Babel (è®“ç€è¦½å™¨çœ‹ä¸æ‡‚çš„ JSX èªæ³•è½‰ç‚º JavaScript) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: "Microsoft JhengHei", "Heiti TC", sans-serif; }
        .animate-fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- åœ–ç¤ºçµ„ä»¶ (ä½¿ç”¨ SVG ä»¥ç¢ºä¿å–®ä¸€æª”æ¡ˆç¨ç«‹é‹ä½œ) ---
        const IconBase = ({ children, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const BookOpen = (props) => <IconBase {...props}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></IconBase>;
        const Film = (props) => <IconBase {...props}><rect width="20" height="20" x="2" y="2" rx="2.18" ry="2.18"/><line x1="7" x2="7" y1="2" y2="22"/><line x1="17" x2="17" y1="2" y2="22"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="2" x2="7" y1="7" y2="7"/><line x1="2" x2="7" y1="17" y2="17"/><line x1="17" x2="22" y1="17" y2="17"/><line x1="17" x2="22" y1="7" y2="7"/></IconBase>;
        const Users = (props) => <IconBase {...props}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></IconBase>;
        const Briefcase = (props) => <IconBase {...props}><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></IconBase>;
        const Crown = (props) => <IconBase {...props}><path d="m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"/></IconBase>;
        const AlertTriangle = (props) => <IconBase {...props}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" x2="12" y1="9" y2="13"/><line x1="12" x2="12.01" y1="17" y2="17"/></IconBase>;
        const CheckCircle = (props) => <IconBase {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></IconBase>;
        const ArrowRight = (props) => <IconBase {...props}><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></IconBase>;

        // --- ä¸»ç¨‹å¼ ---
        const App = () => {
            const [activeTab, setActiveTab] = useState('concept'); // concept, table, quiz
            
            return (
                <div className="min-h-screen flex flex-col">
                    {/* Header */}
                    <header className="bg-blue-600 text-white p-6 shadow-lg">
                        <div className="max-w-4xl mx-auto">
                            <h1 className="text-3xl font-bold mb-2">PMP å‚™è€ƒæŒ‡å—ï¼šçµ„ç¹”çµæ§‹èˆ‡å°ˆæ¡ˆç¶“ç†</h1>
                            <p className="text-blue-100">å¾ã€Œç„¡ç‰™è€è™ã€åˆ°ã€Œæ“æœ‰å¯¦æ¬Šã€ï¼ŒæŒæ¡ PM çš„æ¬ŠåŠ›å…‰è­œ</p>
                        </div>
                    </header>

                    {/* Navigation */}
                    <div className="max-w-4xl mx-auto mt-6 px-4 w-full">
                        <div className="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 bg-white p-1 rounded-lg shadow-sm">
                            <TabButton id="concept" label="è§€å¿µåœ–è§£" icon={<BookOpen size={18} />} activeTab={activeTab} setActiveTab={setActiveTab} />
                            <TabButton id="table" label="æ¯”è¼ƒç¸½è¡¨" icon={<Users size={18} />} activeTab={activeTab} setActiveTab={setActiveTab} />
                            <TabButton id="quiz" label="æƒ…å¢ƒæ¨¡æ“¬è€ƒé¡Œ" icon={<CheckCircle size={18} />} activeTab={activeTab} setActiveTab={setActiveTab} />
                        </div>
                    </div>

                    {/* Content Area */}
                    <main className="max-w-4xl mx-auto mt-6 p-4 pb-20 w-full flex-grow">
                        {activeTab === 'concept' && <ConceptView />}
                        {activeTab === 'table' && <TableView />}
                        {activeTab === 'quiz' && <QuizView />}
                    </main>

                    <footer className="bg-gray-200 text-center p-4 text-gray-500 text-sm">
                        <p>å°ˆç‚ºå°ˆæ¡ˆç®¡ç†åˆå­¸è€…è¨­è¨ˆçš„äº’å‹•å¼æ•™æ</p>
                    </footer>
                </div>
            );
        };

        // --- å­çµ„ä»¶ ---

        const TabButton = ({ id, label, icon, activeTab, setActiveTab }) => (
            <button
                onClick={() => setActiveTab(id)}
                className={`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-md transition-all duration-200 ${
                    activeTab === id 
                        ? 'bg-blue-100 text-blue-700 font-bold shadow-sm' 
                        : 'text-gray-500 hover:bg-gray-100'
                }`}
            >
                {icon}
                <span>{label}</span>
            </button>
        );

        const ConceptView = () => (
            <div className="space-y-8 animate-fade-in">
                <div className="bg-white p-6 rounded-xl shadow-md border-l-4 border-blue-500">
                    <h2 className="text-xl font-bold mb-4 flex items-center">
                        <Film className="mr-2 text-blue-500" />
                        æ ¸å¿ƒå¿ƒæ³•ï¼šæŠŠå°ˆæ¡ˆæƒ³æˆã€Œæ‹é›»å½±ã€
                    </h2>
                    <p className="text-gray-600 mb-4">
                        çµ„ç¹”çµæ§‹æ±ºå®šäº†ä½ èº«ç‚ºå°æ¼”ï¼ˆPMï¼‰æ‰‹ä¸Šæœ‰å¤šå°‘æ¬ŠåŠ›ï¼Œä»¥åŠæ¼”å“¡ï¼ˆåœ˜éšŠæˆå“¡ï¼‰è½ä¸è½ä½ çš„è©±ã€‚
                    </p>
                </div>

                {/* The Spectrum Visual */}
                <div className="relative pt-8 pb-4">
                    {/* Background Arrow for Desktop */}
                    <div className="hidden md:flex absolute top-0 left-0 w-full h-full items-center justify-between px-10 pointer-events-none opacity-20 z-0">
                        <ArrowRight size={48} className="text-gray-400 w-full" />
                    </div>
                    
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 relative z-10">
                        {/* Functional */}
                        <StructureCard 
                            title="åŠŸèƒ½å¼çµ„ç¹”"
                            english="Functional"
                            icon={<Briefcase size={32} className="text-gray-500" />}
                            color="gray"
                            pmPower="æ¥µä½ / ç„¡"
                            analogy="é›»è¦–å°éƒ¨é–€"
                            desc="å¤§å®¶éƒ½åœ¨åŸæœ¬çš„éƒ¨é–€ï¼ˆè¡ŒéŠ·ã€ç ”ç™¼ï¼‰ï¼ŒPM åªæ˜¯è·‘è…¿çš„ï¼Œå¹¾ä¹å«ä¸å‹•äººã€‚"
                            keywords={['å°ˆæ¡ˆè¯çµ¡å“¡ (Coordinator)', 'å°ˆæ¡ˆä¿ƒé€²è€… (Expeditor)', 'é ç®—åœ¨åŠŸèƒ½ç¶“ç†æ‰‹ä¸Š']}
                        />

                        {/* Matrix */}
                        <StructureCard 
                            title="çŸ©é™£å¼çµ„ç¹”"
                            english="Matrix"
                            icon={<Users size={32} className="text-orange-500" />}
                            color="orange"
                            pmPower="æ‹‰é‹¸æˆ° / å”å•†"
                            analogy="å¤–å€Ÿåˆç´„"
                            desc="å“¡å·¥æœ‰ã€Œå…©å€‹è€é—†ã€ã€‚PM è·ŸåŠŸèƒ½ç¶“ç†è¦æ¶äººã€æ¶è³‡æºï¼Œæºé€šæœ€è¤‡é›œã€‚"
                            keywords={['å…©å€‹è€é—† (Two Bosses)', 'é•åçµ±ä¸€æŒ‡æ®', 'å¼±çŸ©é™£', 'å¹³è¡¡çŸ©é™£', 'å¼·çŸ©é™£']}
                        />

                        {/* Projectized */}
                        <StructureCard 
                            title="å°ˆæ¡ˆå¼çµ„ç¹”"
                            english="Projectized"
                            icon={<Crown size={32} className="text-green-600" />}
                            color="green"
                            pmPower="æ¥µé«˜ / å…¨æ¬Š"
                            analogy="ç¨ç«‹è£½ç‰‡åŠ‡çµ„"
                            desc="PM æ˜¯çœŸæ­£çš„åœ‹ç‹ã€‚åœ˜éšŠéƒ½åœ¨ä¸€èµ·å·¥ä½œï¼Œæ•ˆç‡é«˜ï¼Œä½†å°ˆæ¡ˆçµæŸå°±å¤±æ¥­ã€‚"
                            keywords={['ç„¡å®¶å¯æ­¸ (No Home)', 'è³‡æºé‡è¤‡é…ç½®', 'PM å…¨æ¬Šæ§åˆ¶é ç®—']}
                        />
                    </div>
                </div>
            </div>
        );

        const StructureCard = ({ title, english, icon, color, pmPower, analogy, desc, keywords }) => {
            const colorClasses = {
                gray: 'border-gray-300 bg-gray-50',
                orange: 'border-orange-300 bg-orange-50',
                green: 'border-green-300 bg-green-50',
            };

            const badgeClasses = {
                gray: 'bg-gray-200 text-gray-700',
                orange: 'bg-orange-200 text-orange-800',
                green: 'bg-green-200 text-green-800',
            };

            return (
                <div className={`border-2 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow bg-white ${colorClasses[color]}`}>
                    <div className="flex justify-between items-start mb-4">
                        <div>
                            <h3 className="text-lg font-bold">{title}</h3>
                            <span className="text-xs font-mono text-gray-500">{english}</span>
                        </div>
                        <div className="p-2 bg-white rounded-full shadow-sm border">
                            {icon}
                        </div>
                    </div>
                    
                    <div className="space-y-3">
                        <div className="text-sm">
                            <span className="font-semibold text-gray-600">PM æ¬ŠåŠ›ï¼š</span>
                            <span className={`ml-2 px-2 py-0.5 rounded text-xs font-bold ${badgeClasses[color]}`}>{pmPower}</span>
                        </div>
                        
                        <div className="bg-white p-3 rounded border border-gray-100">
                            <span className="text-xs font-bold text-blue-600 block mb-1">ğŸ“½ï¸ é›»å½±æ¯”å–»ï¼š{analogy}</span>
                            <p className="text-sm text-gray-600 leading-snug">{desc}</p>
                        </div>

                        <div>
                            <span className="text-xs font-semibold text-gray-500 uppercase tracking-wide">è€ƒè©¦é—œéµå­—ï¼š</span>
                            <ul className="mt-1 space-y-1">
                                {keywords.map((kw, idx) => (
                                    <li key={idx} className="text-xs flex items-start">
                                        <span className="mr-1.5 mt-0.5 text-blue-500">â€¢</span>
                                        {kw}
                                    </li>
                                ))}
                            </ul>
                        </div>
                    </div>
                </div>
            );
        };

        const TableView = () => (
            <div className="bg-white rounded-xl shadow overflow-hidden animate-fade-in">
                <div className="p-4 bg-gray-100 border-b">
                    <h3 className="font-bold text-gray-700">å…¨å…‰è­œæ¯”è¼ƒè¡¨ï¼ˆè€ƒè©¦é€ŸæŸ¥ï¼‰</h3>
                    <p className="text-sm text-gray-500">æ³¨æ„æ¬ŠåŠ›èˆ‡è³‡æºå¦‚ä½•éš¨è‘—é¡å‹æ”¹è®Š</p>
                </div>
                <div className="overflow-x-auto">
                    <table className="min-w-full divide-y divide-gray-200 text-sm whitespace-nowrap">
                        <thead className="bg-gray-50">
                            <tr>
                                <th className="px-4 py-3 text-left font-medium text-gray-500 uppercase tracking-wider">æ¯”è¼ƒé …ç›®</th>
                                <th className="px-4 py-3 text-left font-bold text-gray-600 bg-gray-100">åŠŸèƒ½å¼</th>
                                <th className="px-4 py-3 text-left font-bold text-orange-600 bg-orange-50">å¼±çŸ©é™£</th>
                                <th className="px-4 py-3 text-left font-bold text-orange-700 bg-orange-100">å¹³è¡¡çŸ©é™£</th>
                                <th className="px-4 py-3 text-left font-bold text-orange-800 bg-orange-200">å¼·çŸ©é™£</th>
                                <th className="px-4 py-3 text-left font-bold text-green-600 bg-green-50">å°ˆæ¡ˆå¼</th>
                            </tr>
                        </thead>
                        <tbody className="bg-white divide-y divide-gray-200">
                            <tr>
                                <td className="px-4 py-3 font-medium text-gray-900">PM æ¬ŠåŠ›</td>
                                <td className="px-4 py-3 text-gray-500">æ²’æœ‰ / å¾ˆå°‘</td>
                                <td className="px-4 py-3 text-gray-600">ä½</td>
                                <td className="px-4 py-3 text-orange-600">ä¸­ / ä½</td>
                                <td className="px-4 py-3 text-orange-700">ä¸­ / é«˜</td>
                                <td className="px-4 py-3 text-green-600 font-bold">é«˜ / å…¨æ¬Š</td>
                            </tr>
                            <tr>
                                <td className="px-4 py-3 font-medium text-gray-900">é ç®—æ§åˆ¶</td>
                                <td className="px-4 py-3 text-gray-500">åŠŸèƒ½ç¶“ç†</td>
                                <td className="px-4 py-3 text-gray-600">åŠŸèƒ½ç¶“ç†</td>
                                <td className="px-4 py-3 text-orange-600">æ··åˆ</td>
                                <td className="px-4 py-3 text-orange-700 font-bold">å°ˆæ¡ˆç¶“ç†</td>
                                <td className="px-4 py-3 text-green-600 font-bold">å°ˆæ¡ˆç¶“ç†</td>
                            </tr>
                            <tr>
                                <td className="px-4 py-3 font-medium text-gray-900">PM è§’è‰²</td>
                                <td className="px-4 py-3 text-gray-500">å…¼ä»» (Part-time)</td>
                                <td className="px-4 py-3 text-gray-600">å…¼ä»»</td>
                                <td className="px-4 py-3 text-orange-600 font-bold">å…¨è· (Full-time)</td>
                                <td className="px-4 py-3 text-orange-700 font-bold">å…¨è·</td>
                                <td className="px-4 py-3 text-green-600 font-bold">å…¨è·</td>
                            </tr>
                            <tr>
                                <td className="px-4 py-3 font-medium text-gray-900">è¡Œæ”¿äººå“¡</td>
                                <td className="px-4 py-3 text-gray-500">å…¼ä»»</td>
                                <td className="px-4 py-3 text-gray-600">å…¼ä»»</td>
                                <td className="px-4 py-3 text-orange-600">å…¼ä»»</td>
                                <td className="px-4 py-3 text-orange-700 font-bold">å…¨è·</td>
                                <td className="px-4 py-3 text-green-600 font-bold">å…¨è·</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div className="p-4 bg-yellow-50 text-sm text-yellow-800 border-t border-yellow-200 flex items-start">
                    <AlertTriangle size={16} className="mt-0.5 mr-2 flex-shrink-0" />
                    <p>
                        <strong>è€ƒè©¦æŠ€å·§ï¼š</strong> å¦‚æœé¡Œç›®æåˆ°ã€ŒPM æ˜¯å…¨è·çš„ (Full-time)ã€ï¼Œé‚£ç­”æ¡ˆçµ•å°ä¸å¯èƒ½æ˜¯ã€ŒåŠŸèƒ½å¼ã€æˆ–ã€Œå¼±çŸ©é™£ã€ã€‚å¦‚æœæåˆ°ã€ŒPM æ§åˆ¶é ç®—ã€ï¼Œè‡³å°‘æ˜¯ã€Œå¼·çŸ©é™£ã€æˆ–ã€Œå°ˆæ¡ˆå¼ã€ã€‚
                    </p>
                </div>
            </div>
        );

        const QuizView = () => {
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [showExplanation, setShowExplanation] = useState(false);
            const [score, setScore] = useState(0);
            const [finished, setFinished] = useState(false);

            const questions = [
                {
                    scenario: "ä½ æ˜¯å°ˆæ¡ˆç¶“ç†ï¼Œä½†ä½ ç™¼ç¾è¦å–å¾—å°ˆæ¡ˆè³‡æºéå¸¸å›°é›£ã€‚ä½ éœ€è¦ä¸æ–·å»æ‹œè¨—å„éƒ¨é–€çš„ä¸»ç®¡ï¼Œè€Œä¸”ä½ é‚„éœ€è¦è™•ç†åŸæœ¬éƒ¨é–€çš„ä¾‹è¡Œå…¬äº‹ï¼ˆä½ æ˜¯å…¼è·çš„ï¼‰ã€‚è«‹å•ä½ èº«è™•å“ªç¨®çµ„ç¹”ï¼Ÿ",
                    options: ["å°ˆæ¡ˆå¼ (Projectized)", "å¼·çŸ©é™£ (Strong Matrix)", "åŠŸèƒ½å¼ (Functional)", "å¹³è¡¡çŸ©é™£ (Balanced Matrix)"],
                    correct: 2,
                    explanation: "é—œéµå­—æ˜¯ã€Œå…¼è· PMã€å’Œã€Œæ‹œè¨—ä¸»ç®¡ï¼ˆç„¡æ¬ŠåŠ›ï¼‰ã€ã€‚é€™ç¬¦åˆåŠŸèƒ½å¼çµ„ç¹”çš„ç‰¹å¾µï¼ŒPM è§’è‰²é¡ä¼¼è¯çµ¡å“¡ã€‚"
                },
                {
                    scenario: "åœ˜éšŠæˆå“¡å°ç‹è·‘ä¾†æ‰¾ä½ æŠ±æ€¨ï¼šã€ŒPMï¼Œæˆ‘ä¸ç¢ºå®šé€™ä»¶äº‹è©²è½ä½ çš„ï¼Œé‚„æ˜¯è½æˆ‘åŸæœ¬éƒ¨é–€ç¶“ç†çš„ï¼Œä½ å€‘å…©å€‹çš„æŒ‡ä»¤ä¸ä¸€æ¨£ï¼ã€é€™ç¨®æƒ…æ³æœ€å¸¸ç™¼ç”Ÿåœ¨ä½•è™•ï¼Ÿ",
                    options: ["åŠŸèƒ½å¼çµ„ç¹”", "çŸ©é™£å¼çµ„ç¹”", "å°ˆæ¡ˆå¼çµ„ç¹”", "ç·Šå¯†å¼çŸ©é™£"],
                    correct: 1,
                    explanation: "é—œéµå­—æ˜¯ã€Œå…©å€‹è€é—†ã€å°è‡´çš„è¡çªã€‚é€™æ˜¯çŸ©é™£å¼çµ„ç¹”ï¼ˆMatrixï¼‰æœ€å…¸å‹çš„ç‰¹å¾µï¼Œé•åäº†çµ±ä¸€æŒ‡æ®åŸå‰‡ã€‚"
                },
                {
                    scenario: "å°ˆæ¡ˆå³å°‡çµæŸï¼Œä½ çš„åœ˜éšŠæˆå“¡é–‹å§‹æ„Ÿåˆ°ç„¦æ…®ï¼Œæ“”å¿ƒå°ˆæ¡ˆçµæŸå¾Œæœƒå¤±æ¥­ï¼Œå› ç‚ºä»–å€‘æ²’æœ‰åŸæœ¬çš„ã€Œæ­¸å±¬éƒ¨é–€ã€å¯ä»¥å›å»ã€‚é€™æ˜¯ä»€éº¼ç¾è±¡ï¼Ÿ",
                    options: ["æ¬ŠåŠ›é¬¥çˆ­ (Power Struggle)", "ç„¡å®¶å¯æ­¸ (No Home)", "é»ƒé‡‘éé‡‘ (Gold Plating)", "å½¼å¾—åŸç† (Peter Principle)"],
                    correct: 1,
                    explanation: "é€™æ˜¯åœ¨ã€Œå°ˆæ¡ˆå¼çµ„ç¹”ã€ä¸­ç‰¹æœ‰çš„ã€Œç„¡å®¶å¯æ­¸ (No Home)ã€ç¾è±¡ã€‚å› ç‚ºåœ˜éšŠæ˜¯ç‚ºäº†å°ˆæ¡ˆè€Œç”Ÿï¼Œå°ˆæ¡ˆçµæŸåœ˜éšŠå³è§£æ•£ã€‚"
                },
                {
                    scenario: "åœ¨æŸå€‹çµ„ç¹”çµæ§‹ä¸­ï¼Œä½ æ˜¯å…¨è·çš„å°ˆæ¡ˆç¶“ç†ï¼Œæ“æœ‰ä¸€åå…¨è·çš„è¡Œæ”¿åŠ©ç†ï¼Œä¸”ä½ å¯ä»¥å®Œå…¨æŒæ§å°ˆæ¡ˆé ç®—ï¼Œä½†å…¬å¸ä»ä¿æœ‰åŠŸèƒ½éƒ¨é–€ã€‚é€™æ˜¯å“ªç¨®çŸ©é™£ï¼Ÿ",
                    options: ["å¼±çŸ©é™£ (Weak)", "å¹³è¡¡çŸ©é™£ (Balanced)", "å¼·çŸ©é™£ (Strong)", "åŠŸèƒ½çŸ©é™£ (Functional)"],
                    correct: 2,
                    explanation: "é—œéµå­—æ˜¯ã€Œå…¨è· PMã€ã€ã€Œå…¨è·åŠ©ç†ã€å’Œã€ŒæŒæ§é ç®—ã€ã€‚åœ¨çŸ©é™£å…‰è­œä¸­ï¼Œé€™æ˜¯æœ€æ¥è¿‘å°ˆæ¡ˆå¼çš„ï¼Œç¨±ç‚ºã€Œå¼·çŸ©é™£ã€ã€‚"
                }
            ];

            const handleAnswer = (idx) => {
                if (idx === questions[currentQuestion].correct) {
                    setScore(score + 1);
                }
                setShowExplanation(true);
            };

            const nextQuestion = () => {
                if (currentQuestion < questions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                    setShowExplanation(false);
                } else {
                    setFinished(true);
                }
            };

            const resetQuiz = () => {
                setScore(0);
                setCurrentQuestion(0);
                setShowExplanation(false);
                setFinished(false);
            };

            if (finished) {
                return (
                    <div className="bg-white p-8 rounded-xl shadow text-center animate-fade-in">
                        <h2 className="text-2xl font-bold mb-4">æ¸¬é©—çµæŸï¼</h2>
                        <div className="text-6xl font-bold text-blue-600 mb-4">{score} / {questions.length}</div>
                        <p className="text-gray-600 mb-6">
                            {score === questions.length ? "å¤ªæ£’äº†ï¼ä½ å·²ç¶“æŒæ¡äº†çµ„ç¹”çµæ§‹çš„ç²¾é«“ï¼" : "å†è¤‡ç¿’ä¸€ä¸‹è§€å¿µï¼Œä½ ä¸€å®šå¯ä»¥æ‹¿æ»¿åˆ†ï¼"}
                        </p>
                        <button onClick={resetQuiz} className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">
                            é‡æ–°æ¸¬é©—
                        </button>
                    </div>
                );
            }

            const q = questions[currentQuestion];

            return (
                <div className="max-w-2xl mx-auto animate-fade-in">
                    <div className="mb-4 flex justify-between items-center text-sm text-gray-500">
                        <span>ç¬¬ {currentQuestion + 1} é¡Œ / å…± {questions.length} é¡Œ</span>
                        <span>ç›®å‰å¾—åˆ†: {score}</span>
                    </div>
                    
                    <div className="bg-white p-6 rounded-xl shadow-lg border border-gray-100">
                        <h3 className="text-lg font-bold text-gray-800 mb-4">{q.scenario}</h3>
                        
                        <div className="space-y-3">
                            {q.options.map((opt, idx) => (
                                <button
                                    key={idx}
                                    onClick={() => !showExplanation && handleAnswer(idx)}
                                    disabled={showExplanation}
                                    className={`w-full text-left p-4 rounded-lg border transition-all ${
                                        showExplanation
                                            ? idx === q.correct 
                                                ? 'bg-green-100 border-green-500 text-green-800 font-bold'
                                                : 'bg-gray-50 border-gray-200 text-gray-400'
                                            : 'hover:bg-blue-50 hover:border-blue-300 border-gray-200'
                                    }`}
                                >
                                    {opt}
                                </button>
                            ))}
                        </div>

                        {showExplanation && (
                            <div className="mt-6 p-4 bg-blue-50 rounded-lg border border-blue-100 animate-fade-in">
                                <h4 className="font-bold text-blue-800 mb-2 flex items-center">
                                    <BookOpen size={16} className="mr-2" /> è§£æï¼š
                                </h4>
                                <p className="text-blue-900">{q.explanation}</p>
                                <div className="mt-4 text-right">
                                    <button onClick={nextQuestion} className="bg-blue-600 text-white px-6 py-2 rounded shadow hover:bg-blue-700">
                                        {currentQuestion === questions.length - 1 ? "çœ‹çµæœ" : "ä¸‹ä¸€é¡Œ"}
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        // --- å•Ÿå‹• React ---
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>