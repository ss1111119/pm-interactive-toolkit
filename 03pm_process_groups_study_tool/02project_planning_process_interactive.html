<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>專案管理規劃過程組 - 互動學習指南</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f0f9ff; }
        .card-flip { perspective: 1000px; }
        .card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; }
        .card-flip.flipped .card-inner { transform: rotateY(180deg); }
        .card-front, .card-back { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; display: flex; align-items: center; justify-content: center; border-radius: 0.5rem; padding: 1rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        .card-front { background-color: #ffffff; color: #1e3a8a; border: 2px solid #bfdbfe; }
        .card-back { background-color: #1e40af; color: white; transform: rotateY(180deg); }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // Icons components
        const BookIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>;
        const BrainIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/></svg>;
        const BuildingIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z"/><path d="M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2"/><path d="M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2"/><path d="M10 6h4"/><path d="M10 10h4"/><path d="M10 14h4"/><path d="M10 18h4"/></svg>;
        const QuizIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></svg>;
        const CheckIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="20 6 9 17 4 12"/></svg>;
        const XIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>;
        const ListIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>;

        // Components
        const Flashcard = ({ front, back }) => {
            const [isFlipped, setIsFlipped] = useState(false);
            return (
                <div 
                    className={`card-flip h-48 w-full cursor-pointer ${isFlipped ? 'flipped' : ''}`} 
                    onClick={() => setIsFlipped(!isFlipped)}
                >
                    <div className="card-inner">
                        <div className="card-front text-lg font-bold">
                            <div>
                                <p className="text-sm text-gray-500 mb-2">點擊翻轉</p>
                                {front}
                            </div>
                        </div>
                        <div className="card-back text-base px-4 bg-blue-700">
                            {back}
                        </div>
                    </div>
                </div>
            );
        };

        const QuizQuestion = ({ question, options, answer, onAnswer, answered, selectedOption }) => {
            return (
                <div className="bg-white p-6 rounded-lg shadow-md mb-6 border border-gray-200 fade-in">
                    <h3 className="text-lg font-bold mb-4 text-gray-800">{question}</h3>
                    <div className="space-y-2">
                        {options.map((opt, idx) => {
                            let btnClass = "w-full text-left p-3 rounded border transition-colors ";
                            if (answered) {
                                if (idx === answer) btnClass += "bg-green-100 border-green-500 text-green-800";
                                else if (idx === selectedOption && idx !== answer) btnClass += "bg-red-100 border-red-500 text-red-800";
                                else btnClass += "bg-gray-50 border-gray-200 text-gray-400";
                            } else {
                                btnClass += "hover:bg-blue-50 border-gray-300 text-gray-700";
                            }

                            return (
                                <button 
                                    key={idx} 
                                    className={btnClass}
                                    onClick={() => !answered && onAnswer(idx)}
                                    disabled={answered}
                                >
                                    <div className="flex justify-between items-center">
                                        <span>{opt}</span>
                                        {answered && idx === answer && <CheckIcon />}
                                        {answered && idx === selectedOption && idx !== answer && <XIcon />}
                                    </div>
                                </button>
                            );
                        })}
                    </div>
                    {answered && (
                        <div className={`mt-4 p-3 rounded ${selectedOption === answer ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'}`}>
                            <p className="font-bold">{selectedOption === answer ? '答對了！' : '答錯了。'}</p>
                            <p className="text-sm mt-1">{selectedOption === answer ? '你的觀念很清晰！' : '請再複習一下相關概念。'}</p>
                        </div>
                    )}
                </div>
            );
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('concept');
            const [quizScore, setQuizScore] = useState(0);
            const [quizAnswers, setQuizAnswers] = useState({});

            const quizData = [
                {
                    q: "規劃過程組最核心的終極產出文件是什麼？",
                    options: ["工作分解結構 (WBS)", "專案章程", "專案管理計畫書", "風險登記冊"],
                    a: 2
                },
                {
                    q: "根據「滾動式規劃」的概念，下列何者正確？",
                    options: ["規劃是一次性的，必須在專案開始前完美完成", "只有近期的工作需要詳細規劃，遠期的可先粗略規劃", "一旦規劃完成，絕對不能進行任何變更", "規劃與執行是完全分開的階段"],
                    a: 1
                },
                {
                    q: "關於「5大過程組 vs 10大知識領域」的矩陣，下列敘述何者正確？",
                    options: ["啟動過程組涵蓋所有10大知識領域", "規劃過程組是唯一涵蓋所有10大知識領域的群組", "執行過程組的工作量最小", "監控過程組不需要參考規劃文件"],
                    a: 1
                },
                {
                    q: "如果將專案管理比喻為蓋摩天大樓，「規劃過程組」相當於什麼階段？",
                    options: ["拿到建築執照", "繪製藍圖與施工圖", "工人進場挖土", "大樓完工剪綵"],
                    a: 1
                },
                {
                    q: "下列哪個基準不是專案管理計畫書中的三大基準之一？",
                    options: ["範疇基準", "品質基準", "時程基準", "成本基準"],
                    a: 1
                }
            ];

            const handleAnswer = (qIndex, selectedIdx) => {
                setQuizAnswers(prev => ({...prev, [qIndex]: selectedIdx}));
                if (selectedIdx === quizData[qIndex].a) {
                    setQuizScore(prev => prev + 1);
                }
            };

            const resetQuiz = () => {
                setQuizAnswers({});
                setQuizScore(0);
            };

            const renderContent = () => {
                switch(activeTab) {
                    case 'concept':
                        return (
                            <div className="space-y-6 fade-in">
                                <div className="bg-white p-6 rounded-xl shadow-md border-l-8 border-blue-500">
                                    <h2 className="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                                        <BrainIcon />
                                        <span className="ml-2">核心目標：大腦與導航</span>
                                    </h2>
                                    <p className="text-gray-600 leading-relaxed mb-4">
                                        如果說「啟動」決定了要做什麼（What），那麼「規劃」就是詳細定義<strong>該如何做（How）</strong>。
                                    </p>
                                    <div className="bg-blue-50 p-4 rounded-lg border border-blue-100">
                                        <p className="font-bold text-blue-800 text-lg mb-2">終極產出：專案管理計畫書</p>
                                        <p className="text-gray-700 mb-2">這是一份指導專案執行與監控的「操作手冊」。</p>
                                        <div className="bg-white p-3 rounded border border-blue-200">
                                            <p className="font-semibold text-blue-900 mb-1">關鍵構成要素：</p>
                                            <ul className="list-disc list-inside text-sm text-gray-600 space-y-1">
                                                <li><span className="font-bold text-red-500">三大基準</span>：範疇基準、時程基準、成本基準。</li>
                                                <li><span className="font-bold text-indigo-500">所有子計畫</span>：這不是單一文件，而是集合體。</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                {/* New Section: Full Coverage */}
                                <div className="bg-white p-6 rounded-xl shadow-md border-l-8 border-purple-500">
                                    <h2 className="text-xl font-bold text-gray-800 mb-3 flex items-center">
                                        <ListIcon />
                                        <span className="ml-2">全方位的覆蓋率 (10大知識領域)</span>
                                    </h2>
                                    <p className="text-gray-600 text-sm mb-3">
                                        在「5大過程組」中，<strong>規劃過程組是唯一涵蓋了所有 10 個知識領域的群組</strong>。PM 不能只盯著進度表，還必須規劃以下所有面向：
                                    </p>
                                    <div className="grid grid-cols-2 md:grid-cols-5 gap-2 text-sm text-center">
                                        {['範疇', '時程', '成本', '品質', '資源', '溝通', '風險', '採購', '利害關係人', '整合'].map((item, i) => (
                                            <div key={i} className="bg-purple-50 text-purple-700 py-1 px-2 rounded border border-purple-100 font-medium">
                                                {item}
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                <div className="grid md:grid-cols-2 gap-6">
                                    <div className="bg-white p-6 rounded-xl shadow-md">
                                        <h3 className="text-xl font-bold text-gray-800 mb-3">執行步驟 (SOP)</h3>
                                        <ol className="list-decimal list-inside space-y-2 text-gray-700 text-sm">
                                            <li><span className="font-bold">定義範疇：</span>釐清做什麼、不做什麼。</li>
                                            <li><span className="font-bold">工作分解 (WBS)：</span>將大目標切成「工作包」。</li>
                                            <li><span className="font-bold">排序估算：</span>排順序、算時間、算錢。</li>
                                            <li><span className="font-bold">建立基準：</span>訂出衡量績效的「尺」。</li>
                                            <li><span className="font-bold">獲得承諾：</span>規劃不僅是寫文件，更要獲得利害關係人的同意。</li>
                                        </ol>
                                    </div>
                                    <div className="bg-gradient-to-br from-indigo-500 to-purple-600 text-white p-6 rounded-xl shadow-md">
                                        <h3 className="text-xl font-bold mb-3">滾動式規劃 (Rolling Wave)</h3>
                                        <p className="mb-4 text-indigo-100 text-sm">
                                            規劃是「反覆進行」的過程，因初期充滿不確定性。
                                        </p>
                                        <div className="space-y-3 text-sm">
                                            <div className="flex items-center space-x-2">
                                                <div className="w-2 h-2 bg-white rounded-full"></div>
                                                <span>近期工作：詳細規劃</span>
                                            </div>
                                            <div className="flex items-center space-x-2">
                                                <div className="w-2 h-2 bg-indigo-300 rounded-full"></div>
                                                <span>遠期工作：粗略規劃 (漸進明細)</span>
                                            </div>
                                            <div className="bg-white/10 p-2 rounded border border-white/20 mt-2">
                                                <span className="font-bold text-yellow-300">⚠ 與監控的互動：</span>
                                                <br/>當執行發現偏差或變更時，必須回到規劃過程組更新文件。
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        );
                    case 'metaphor':
                        return (
                            <div className="space-y-6 fade-in">
                                <div className="bg-white p-8 rounded-xl shadow-lg text-center">
                                    <div className="inline-block p-4 bg-orange-100 rounded-full mb-4">
                                        <BuildingIcon />
                                    </div>
                                    <h2 className="text-3xl font-bold text-gray-800 mb-2">摩天大樓比喻法</h2>
                                    <p className="text-gray-500 mb-8">專案管理就像蓋一棟大樓，而規劃過程組是...</p>
                                    
                                    <div className="grid md:grid-cols-3 gap-4 text-left">
                                        <div className="border border-gray-200 p-4 rounded-lg hover:shadow-md transition bg-gray-50">
                                            <h4 className="font-bold text-orange-600 mb-2">1. 啟動 (Initiating)</h4>
                                            <p className="text-sm text-gray-600">拿到建築執照、業主委託書。</p>
                                            <p className="text-xs text-gray-400 mt-1">"獲准蓋樓"</p>
                                        </div>
                                        <div className="border-2 border-blue-500 bg-blue-50 p-4 rounded-lg shadow-md transform scale-105 z-10">
                                            <h4 className="font-bold text-blue-700 mb-2">2. 規劃 (Planning)</h4>
                                            <p className="text-sm text-gray-700 font-medium">繪製藍圖、結構圖、施工說明書。</p>
                                            <ul className="text-xs text-blue-600 mt-2 list-disc list-inside">
                                                <li>算鋼筋 (成本)</li>
                                                <li>排工序 (時程)</li>
                                                <li>找工人 (資源)</li>
                                                <li>預防挖到古蹟 (風險)</li>
                                            </ul>
                                        </div>
                                        <div className="border border-gray-200 p-4 rounded-lg hover:shadow-md transition bg-gray-50">
                                            <h4 className="font-bold text-green-600 mb-2">3. 執行 (Executing)</h4>
                                            <p className="text-sm text-gray-600">工人進場挖土、灌漿、裝修。</p>
                                            <p className="text-xs text-gray-400 mt-1">"按圖施工"</p>
                                        </div>
                                    </div>
                                    <div className="mt-6 p-4 bg-yellow-50 text-yellow-900 rounded text-sm text-left border border-yellow-200">
                                        <strong>關鍵比喻：</strong>
                                        <ul className="list-disc list-inside mt-2 space-y-1">
                                            <li>你不能拿到執照(啟動)就直接叫人挖土(執行)，必須先畫藍圖(規劃)。</li>
                                            <li>如果挖地基時發現地下有古蹟(監控發現異常/變更)，你得停下來，回到製圖桌修改你的藍圖(滾動式規劃/更新計畫)。</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        );
                    case 'flashcards':
                        return (
                            <div className="space-y-4 fade-in">
                                <h2 className="text-2xl font-bold text-gray-800 text-center mb-6">5W1H 思維邏輯</h2>
                                <p className="text-center text-gray-500 mb-6">點擊卡片查看規劃邏輯</p>
                                <div className="grid grid-cols-2 md:grid-cols-3 gap-4">
                                    <Flashcard front="要做什麼? (What)" back="定義範疇 (Scope) 與各項活動" />
                                    <Flashcard front="如何做? (How)" back="制定技術方案與方法" />
                                    <Flashcard front="由誰做? (Who)" back="分配資源與職責 (HR/Stakeholders)" />
                                    <Flashcard front="什麼順序? (Order)" back="安排活動相依關係 (Sequence)" />
                                    <Flashcard front="花多少錢? (Cost)" back="預算編列 (Budgeting)" />
                                    <Flashcard front="何時做? (When)" back="制定時程表 (Schedule)" />
                                </div>
                            </div>
                        );
                    case 'quiz':
                        return (
                            <div className="max-w-2xl mx-auto fade-in">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-2xl font-bold text-gray-800">模擬小考</h2>
                                    <div className="bg-blue-100 text-blue-800 px-4 py-2 rounded-full font-bold">
                                        得分: {quizScore} / {quizData.length}
                                    </div>
                                </div>
                                {quizData.map((item, index) => (
                                    <QuizQuestion 
                                        key={index}
                                        question={`${index + 1}. ${item.q}`}
                                        options={item.options}
                                        answer={item.a}
                                        onAnswer={(selectedIdx) => handleAnswer(index, selectedIdx)}
                                        answered={quizAnswers.hasOwnProperty(index)}
                                        selectedOption={quizAnswers[index]}
                                    />
                                ))}
                                <div className="text-center mt-8">
                                    <button 
                                        onClick={resetQuiz}
                                        className="bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded shadow transition"
                                    >
                                        重新測驗
                                    </button>
                                </div>
                            </div>
                        );
                    default:
                        return null;
                }
            };

            return (
                <div className="min-h-screen pb-12">
                    {/* Header */}
                    <header className="bg-blue-900 text-white p-6 shadow-lg">
                        <div className="max-w-4xl mx-auto">
                            <h1 className="text-3xl font-bold mb-2">專案管理：規劃過程組</h1>
                            <p className="text-blue-200">新手備考速成指南</p>
                        </div>
                    </header>

                    {/* Nav */}
                    <nav className="bg-white shadow sticky top-0 z-50">
                        <div className="max-w-4xl mx-auto flex overflow-x-auto">
                            <button 
                                onClick={() => setActiveTab('concept')}
                                className={`flex-1 py-4 px-6 text-center whitespace-nowrap font-medium transition-colors ${activeTab === 'concept' ? 'text-blue-600 border-b-2 border-blue-600 bg-blue-50' : 'text-gray-500 hover:text-blue-500'}`}
                            >
                                <span className="flex justify-center items-center gap-2"><BookIcon /> 核心觀念</span>
                            </button>
                            <button 
                                onClick={() => setActiveTab('metaphor')}
                                className={`flex-1 py-4 px-6 text-center whitespace-nowrap font-medium transition-colors ${activeTab === 'metaphor' ? 'text-blue-600 border-b-2 border-blue-600 bg-blue-50' : 'text-gray-500 hover:text-blue-500'}`}
                            >
                                <span className="flex justify-center items-center gap-2"><BuildingIcon /> 摩天大樓比喻</span>
                            </button>
                            <button 
                                onClick={() => setActiveTab('flashcards')}
                                className={`flex-1 py-4 px-6 text-center whitespace-nowrap font-medium transition-colors ${activeTab === 'flashcards' ? 'text-blue-600 border-b-2 border-blue-600 bg-blue-50' : 'text-gray-500 hover:text-blue-500'}`}
                            >
                                <span className="flex justify-center items-center gap-2"><BrainIcon /> 5W1H 記憶卡</span>
                            </button>
                            <button 
                                onClick={() => setActiveTab('quiz')}
                                className={`flex-1 py-4 px-6 text-center whitespace-nowrap font-medium transition-colors ${activeTab === 'quiz' ? 'text-blue-600 border-b-2 border-blue-600 bg-blue-50' : 'text-gray-500 hover:text-blue-500'}`}
                            >
                                <span className="flex justify-center items-center gap-2"><QuizIcon /> 模擬測驗</span>
                            </button>
                        </div>
                    </nav>

                    {/* Main Content */}
                    <main className="max-w-4xl mx-auto p-6">
                        {renderContent()}
                    </main>

                    {/* Footer */}
                    <footer className="text-center text-gray-400 text-sm mt-8">
                        <p>Based on NotebookLM Analysis • Built for Exam Prep</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>